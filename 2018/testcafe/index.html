<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.mutoe.com","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};</script><meta name="description" content="ç®€ä»‹testcafe (å®˜ç½‘) æ˜¯ä¸€ä¸ªåŸºäº nodejs çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œä¼˜ç‚¹å°±å…ˆä¸å¤šè¯´äº†ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ï¼ å®‰è£…testcafe æ˜¯ä¸€ä¸ª npm åŒ…ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ npm æˆ– yarn åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ yarn è¿›è¡Œå®‰è£…ï¼ˆå› ä¸ºå®ƒå¾ˆå¿«ï¼‰  å¦‚æœä½ çš„æœºå™¨ä¸Šæ²¡æœ‰å®‰è£… yarnï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ npm æ¥å®‰è£… yarn ğŸ˜Š   1npm install -g yarn  åœ¨å‘½ä»¤è¡Œä¸­è¿"><meta property="og:type" content="article"><meta property="og:title" content="testcafe -- ä¸€ä¸ªåŸºäº nodejs è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶"><meta property="og:url" content="https://blog.mutoe.com/2018/testcafe/"><meta property="og:site_name" content="æœ¨å¤´çš„åšå®¢"><meta property="og:description" content="ç®€ä»‹testcafe (å®˜ç½‘) æ˜¯ä¸€ä¸ªåŸºäº nodejs çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œä¼˜ç‚¹å°±å…ˆä¸å¤šè¯´äº†ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ï¼ å®‰è£…testcafe æ˜¯ä¸€ä¸ª npm åŒ…ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ npm æˆ– yarn åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ yarn è¿›è¡Œå®‰è£…ï¼ˆå› ä¸ºå®ƒå¾ˆå¿«ï¼‰  å¦‚æœä½ çš„æœºå™¨ä¸Šæ²¡æœ‰å®‰è£… yarnï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ npm æ¥å®‰è£… yarn ğŸ˜Š   1npm install -g yarn  åœ¨å‘½ä»¤è¡Œä¸­è¿"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://static.mutoe.com/2018/testcafe/test-report.png"><meta property="og:image" content="https://static.mutoe.com/2018/testcafe/assertion-error.png"><meta property="og:image" content="https://static.mutoe.com/2018/testcafe/failed-selector-report.png"><meta property="og:image" content="https://static.mutoe.com/2018/testcafe/screenshot-crop.png"><meta property="article:published_time" content="2018-10-21T13:50:35.000Z"><meta property="article:modified_time" content="2020-03-22T06:02:34.182Z"><meta property="article:author" content="mutoe"><meta property="article:tag" content="nodejs"><meta property="article:tag" content="test"><meta property="article:tag" content="testcafe"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://static.mutoe.com/2018/testcafe/test-report.png"><link rel="canonical" href="https://blog.mutoe.com/2018/testcafe/"><script id="page-configurations">// https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };</script><title>testcafe -- ä¸€ä¸ªåŸºäº nodejs è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ | æœ¨å¤´çš„åšå®¢</title><noscript><style>.use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }</style></noscript><link rel="alternate" href="/atom.xml" title="æœ¨å¤´çš„åšå®¢" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">æœ¨å¤´çš„åšå®¢</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">æˆ‘æ˜¯æœ¨å¤´ æœ‰äº›æƒ³æ³• æœ‰ç‚¹ç²¾åŠ›</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.mutoe.com/2018/testcafe/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="mutoe"><meta itemprop="description" content="æœ¨å¤´ å‰ç«¯å­¦å¾’ æœ‰æ¢¦æƒ³çš„FED"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="æœ¨å¤´çš„åšå®¢"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">testcafe -- ä¸€ä¸ªåŸºäº nodejs è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶<a href="https://github.com/mutoe/mutoe.github.io/tree/master/source/_posts/_posts/testcafe.md" class="post-edit-link" title="ç¼–è¾‘" rel="noopener" target="_blank"><i class="fa fa-pencil"></i></a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2018-10-21 21:50:35" itemprop="dateCreated datePublished" datetime="2018-10-21T21:50:35+08:00">2018-10-21</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-03-22 14:02:34" itemprop="dateModified" datetime="2020-03-22T14:02:34+08:00">2020-03-22</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%BF%83%E5%BE%97/" itemprop="url" rel="index"><span itemprop="name">å¿ƒå¾—</span></a> </span></span><span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span> <span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>testcafe (<a href="https://devexpress.github.io/testcafe/" target="_blank" rel="noopener">å®˜ç½‘</a>) æ˜¯ä¸€ä¸ªåŸºäº nodejs çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œä¼˜ç‚¹å°±å…ˆä¸å¤šè¯´äº†ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ï¼</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>testcafe æ˜¯ä¸€ä¸ª npm åŒ…ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ npm æˆ– yarn åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ yarn è¿›è¡Œå®‰è£…ï¼ˆå› ä¸ºå®ƒå¾ˆå¿«ï¼‰</p><blockquote><p>å¦‚æœä½ çš„æœºå™¨ä¸Šæ²¡æœ‰å®‰è£… yarnï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ npm æ¥å®‰è£… yarn ğŸ˜Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yarn</span><br></pre></td></tr></table></figure><p></p></blockquote><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn global add testcafe</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œ testcafe å°±å®‰è£…åœ¨ä½ æœ¬æœºä¸Šå•¦</p><h1 id="å°è¯•ç‰›åˆ€"><a href="#å°è¯•ç‰›åˆ€" class="headerlink" title="å°è¯•ç‰›åˆ€"></a>å°è¯•ç‰›åˆ€</h1><h2 id="åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®</h2><p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œç”¨äºç»ƒä¹ æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ testcafe</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆåˆ‡æ¢åˆ°ä½ ç”¨äºç®¡ç† web é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæˆ‘æœ¬æœºæ˜¯ "~/www"</span></span><br><span class="line"><span class="built_in">cd</span> ~/www</span><br><span class="line">mkdir testcafe &amp;&amp; <span class="built_in">cd</span> testcafe</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬"><a href="#ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬" class="headerlink" title="ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬"></a>ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬</h2><p>ç„¶åæ–°å»ºä¸€ä¸ªåä¸º <code>myFirstTestcase.js</code> æ–‡ä»¶ï¼Œç”¨äºç¼–å†™æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim myFirstTestcase.js <span class="comment"># ç”¨ vim æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±åˆ›å»ºå®ƒï¼‰</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä½ å®‰è£…äº† vscodeï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>code myFirstTestcase.js</code> æ¥åˆ›å»ºå¹¶ç¼–è¾‘å®ƒ <em>éœ€è¦åœ¨ vscode çš„æ§åˆ¶å®ƒä¸­è¾“å…¥ <code>install command</code> æ¥å¯ç”¨ <code>code</code> å‘½ä»¤</em></p></blockquote><p>å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ° <code>myFirstTestcase.js</code> ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 å¯¼åŒ…è¯­æ³•</span></span><br><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ª fixture æµ‹è¯•é¡¹ç›®</span></span><br><span class="line">fixture(<span class="string">'Getting Started'</span>)</span><br><span class="line">  <span class="comment">// æ‰“å¼€ä¸€ä¸ª web é¡µé¢ç”¨äºæ¥ä¸‹æ¥çš„æµ‹è¯•</span></span><br><span class="line">  .page(<span class="string">'http://devexpress.github.io/testcafe/example'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line">test(<span class="string">'My first test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="comment">// Test code</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª test script å°±å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¿è¡Œå®ƒçœ‹çœ‹</p><h2 id="è¿è¡Œæµ‹è¯•è„šæœ¬"><a href="#è¿è¡Œæµ‹è¯•è„šæœ¬" class="headerlink" title="è¿è¡Œæµ‹è¯•è„šæœ¬"></a>è¿è¡Œæµ‹è¯•è„šæœ¬</h2><p>æˆ‘ä»¬å›åˆ°å‘½ä»¤è¡Œä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è¿è¡Œä¸€ä¸ªæµ‹è¯•è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">testcafe chrome myFirstTestcase.js</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œ</p><ul><li><code>testcafe</code> æ˜¯æˆ‘ä»¬ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å…¨å±€å®‰è£…çš„ä¾èµ–ï¼Œtestcafe æ˜¯å®ƒçš„å¯æ‰§è¡Œç¨‹åº</li><li><code>chrome</code> æ˜¯æˆ‘ä»¬çš„æµ‹è¯•å¹³å°ï¼Œå®‰è£…åœ¨æœ¬æœºçš„æµè§ˆå™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ <code>safari</code> <code>firefox</code> ç­‰</li><li><code>myFirstTestcase.js</code> æ˜¯æˆ‘ä»¬ç¼–å†™çš„æµ‹è¯•è„šæœ¬</li></ul></blockquote><p>ç¨ç­‰ç‰‡åˆ»ï¼Œæˆ‘ä»¬çš„æµè§ˆå™¨å°±ä¼šè¢«è‡ªåŠ¨æ‰“å¼€ç„¶åè¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œæœ€åæµè§ˆå™¨è¢«è‡ªåŠ¨å…³é—­ï¼Œåœ¨ç»ˆç«¯ä¸Šç•™ä¸‹äº†æµ‹è¯•ç»“æœã€‚</p><p><img src="//static.mutoe.com/2018/testcafe/test-report.png" alt="test report"></p><h2 id="ç¼–å†™æµ‹è¯•ä»£ç "><a href="#ç¼–å†™æµ‹è¯•ä»£ç " class="headerlink" title="ç¼–å†™æµ‹è¯•ä»£ç "></a>ç¼–å†™æµ‹è¯•ä»£ç </h2><p>åˆšæ‰æˆ‘ä»¬çš„æµ‹è¯•è„šæœ¬åªæ˜¯ç®€å•çš„æ‰“å¼€äº†ä¸€ä¸ªé¡µé¢ï¼Œå®ƒå¹¶æ²¡æœ‰æ‰§è¡Œä»»ä½•åŠ¨ä½œã€‚</p><blockquote><p>åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªä¾‹å­ä¸­ï¼Œä½ å¯ä»¥æ‰“å¼€æµ‹è¯•ç›®æ ‡ç½‘ç«™ <a href="http://devexpress.github.io/testcafe/example" target="_blank" rel="noopener">http://devexpress.github.io/testcafe/example</a> è¿™ä¸ªé¡µé¢ï¼Œç„¶åæ‰“å¼€æ§åˆ¶å°ï¼Œè§‚å¯Ÿå…¶ DOM ç»“æ„ï¼Œå¹¶è¯•ç€æ¨¡æ‹Ÿè„šæœ¬çš„æ“ä½œï¼Œä»¥ä¾¿æ–¹ä¾¿çš„ç†è§£è„šæœ¬çš„å†…å®¹ã€‚</p></blockquote><h3 id="åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œ"><a href="#åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œ" class="headerlink" title="åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œ"></a>åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œ</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•çš„å†™ä¸¤ä¸ªåŠ¨ä½œï¼Œç”¨æ¥å¯¹é¡µé¢è¿›è¡Œæ“ä½œã€‚<br>æ‰“å¼€ <code>myFirstTestcase.js</code>ï¼Œåœ¨ <code>test</code> æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  test('My first test', async t =&gt; &#123;</span><br><span class="line"><span class="deletion">-   // Test code</span></span><br><span class="line"><span class="addition">+   await t</span></span><br><span class="line"><span class="addition">+     .typeText('#developer-name', 'John Smith')</span></span><br><span class="line"><span class="addition">+     .click('#submit-button');</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>t æ˜¯æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹çš„æ§åˆ¶å™¨ï¼Œå®ƒåˆå¾ˆå¤šæ–¹æ³•ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†å®ƒçš„ <code>typeText</code> å’Œ <code>click</code> ä¸¤ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­</p><ul><li><code>typeText</code> æ–¹æ³•ç”¨æ¥é”®å…¥æ–‡æœ¬ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ selector é€‰æ‹©å™¨ï¼ˆå®ƒçš„è¯­æ³•ç±»ä¼¼ jQuery é€‰æ‹©å™¨çš„è¯­æ³•ï¼‰ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½ è¦é”®å…¥çš„æ–‡æœ¬ï¼›</li><li><code>click</code> æ–¹æ³•ç”¨æ¥æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ª selector é€‰æ‹©å™¨</li></ul><blockquote><p>æœ‰å…³è¿™ä¸ªæ§åˆ¶å™¨çš„æ›´å¤šæ–¹æ³•ï¼Œè¯·å…ˆå‚è€ƒ <a href="https://devexpress.github.io/testcafe/documentation/test-api/actions/" target="_blank" rel="noopener">TestCafe å®˜æ–¹ API æ‰‹å†Œ</a> (å®ƒæ˜¯ä¸€ä¸ªè‹±æ–‡æ–‡æ¡£ï¼Œç¨åæˆ‘ä¼šæ•´ç†å‡ºè¿™ä¸ªæ–‡æ¡£çš„ä¸­æ–‡æ‰‹å†Œåœ¨æœ¬é¡µä¸‹æ–¹)</p></blockquote><p>è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ï¼š</p><ol><li>é¦–å…ˆæ‰¾åˆ° id ä¸º <code>developer-name</code> çš„æ ‡ç­¾ï¼Œè¾“å…¥å€¼ â€˜John Smithâ€™</li><li>ç„¶åç‚¹å‡» id ä¸º <code>submit-button</code> çš„æŒ‰é’®</li></ol><h3 id="è§‚å¯Ÿé¡µé¢çš„å˜åŒ–"><a href="#è§‚å¯Ÿé¡µé¢çš„å˜åŒ–" class="headerlink" title="è§‚å¯Ÿé¡µé¢çš„å˜åŒ–"></a>è§‚å¯Ÿé¡µé¢çš„å˜åŒ–</h3><p>ä¸Šé¢ä¸€å°èŠ‚æˆ‘ä»¬å¯¹é¡µé¢è¿›è¡Œäº†äº¤äº’ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æƒ³çŸ¥é“é¡µé¢è¿›è¡Œäº†ä»€ä¹ˆååº”ï¼Œä¹Ÿå°±æ˜¯è§‚å¯Ÿçš„é¡µé¢å˜åŒ–ã€‚</p><p>æˆ‘ä»¬å¯¹æµ‹è¯•è„šæœ¬è¿›è¡Œä¿®æ”¹</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  test('My first test', async t =&gt; &#123;</span><br><span class="line">    await t</span><br><span class="line">      .typeText('#developer-name', 'John Smith')</span><br><span class="line">      .click('#submit-button');</span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+   const articleHeader = await Selector('.result-content').find('h1');</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+   // è·å– article header çš„å†…å®¹æ–‡æœ¬</span></span><br><span class="line"><span class="addition">+   let headerText = await articleHeader.innerText;</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬ç‚¹å‡»é¡µé¢ä¸Šçš„â€œæäº¤â€æŒ‰é’®åï¼Œä¼šæ‰“å¼€ä¸€ä¸ªâ€œè°¢è°¢â€é¡µé¢ã€‚<br>å¦‚æœæˆ‘ä»¬è¦è®¿é—®é¡µé¢ä¸Šçš„ DOM å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨æµ‹è¯•è„šæœ¬é¡¶éƒ¨å¯¼å…¥çš„ Selector æ–¹æ³•</p><ol><li>L6ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª <code>articleHeader</code> å˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„å€¼æ˜¯æ ¹æ®é€‰æ‹©å™¨ <code>.result-content &gt; h1</code> æ‰¾åˆ°çš„ DOM å…ƒç´ </li><li>L9ï¼Œæˆ‘ä»¬åˆå£°æ˜äº†ä¸€ä¸ª <code>headerText</code> å˜é‡ï¼Œå®ƒçš„å€¼æ˜¯æˆ‘ä»¬è·å–åˆ°çš„ DOM å…ƒç´ çš„ <code>innerText</code> å±æ€§ï¼ˆè¿™ä¸ªå±æ€§çš„å€¼æ˜¯ DOM å…ƒç´ çš„å†…å®¹æ–‡æœ¬ï¼‰</li></ol><h3 id="æ–­è¨€"><a href="#æ–­è¨€" class="headerlink" title="æ–­è¨€"></a>æ–­è¨€</h3><p>æˆ‘ä»¬æ‹¿åˆ°éœ€è¦åˆ¤æ–­çš„å€¼åï¼Œå°±å¯ä»¥å¯¹æµ‹è¯•ç”¨ä¾‹è¿›è¡Œæ–­è¨€äº†ã€‚<br>å®ƒåˆ°åº•èƒ½å¦æ­£ç¡®æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹å¹¶è¾“å‡ºæˆ‘ä»¬æœŸæœ›çš„ç»“æœï¼Ÿ</p><p>æˆ‘ä»¬ä½¿ç”¨æµ‹è¯•ç”¨ä¾‹æ§åˆ¶å™¨çš„ <code>t.expect()</code> æ–¹æ³•æ¥è¿›è¡Œæ–­è¨€,<br>å°†æµ‹è¯•è„šæœ¬æ”¹å†™ä¸ºä»¥ä¸‹å†…å®¹</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  test('My first test', async t =&gt; &#123;</span><br><span class="line">    await t</span><br><span class="line">      .typeText('#developer-name', 'John Smith')</span><br><span class="line">      .click('#submit-button');</span><br><span class="line"></span><br><span class="line"><span class="deletion">-   const articleHeader = await Selector('.result-content').find('h1');</span></span><br><span class="line"><span class="deletion">-</span></span><br><span class="line"><span class="deletion">-   // è·å– article header çš„å†…å®¹æ–‡æœ¬</span></span><br><span class="line"><span class="deletion">-   let headerText = await articleHeader.innerText;</span></span><br><span class="line"><span class="addition">+   // ä½¿ç”¨æ–­è¨€æ–¹æ³•æ¥åˆ¤æ–­æˆ‘ä»¬è·å–åˆ°çš„å€¼ä¸æˆ‘ä»¬æœŸæœ›çš„å€¼æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line"><span class="addition">+   .expect(Selector('#article-header').innerText).eql('Thank you, John Smith!');</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><ul><li><p>L11 <code>expect()</code> æ˜¯ä¸€ä¸ª BDDï¼ˆè¡Œä¸ºé©±åŠ¨å¼€å‘ï¼‰é£æ ¼çš„æ–­è¨€æ–¹æ³•, å®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼šéœ€è¦è¿›è¡Œæ–­è¨€çš„å˜é‡ï¼›<br>å®ƒè¿”å›ä¸€ä¸ªæ–­è¨€ç±»å®ä¾‹å¯¹è±¡ï¼Œåè·Ÿä¸€ä¸ªæ–­è¨€æ–¹æ³•ã€‚</p></li><li><p><code>eql()</code> æ˜¯ä¸€ä¸ªæ–­è¨€æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­æ–­è¨€å®ä¾‹ä¸æœŸæœ›å€¼æ˜¯å¦ä¸¥æ ¼ç­‰äºï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼šæœŸæœ›å€¼ï¼›<br>è¯¥ç±»æ–­è¨€æ–¹æ³•ä¼šåœ¨æ‰“å°å‡ºç›¸åº”çš„æµ‹è¯•æŠ¥å‘Šï¼Œå¦‚æœç›¸ç­‰åˆ™è¿”å› passï¼Œå¦åˆ™æŠ›å‡ºä¸€ä¸ª AssertionError</p><p><img src="//static.mutoe.com/2018/testcafe/assertion-error.png" alt="assertion error"></p></li></ul><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬å°±å®Œæˆäº†ï¼Œå¦‚æœä½ æ²¡æœ‰è·‘é€šçš„è¯ï¼Œè¯·æ£€æŸ¥ä¸€ä¸‹ä½ çš„æµ‹è¯•è„šæœ¬æ˜¯å¦ä¸ä»¥ä¸‹å†…å®¹ä¸€è‡´</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 å¯¼åŒ…è¯­æ³•</span></span><br><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ª fixture æµ‹è¯•é¡¹ç›®</span></span><br><span class="line">fixture(<span class="string">'Getting Started'</span>)</span><br><span class="line">  <span class="comment">// æ‰“å¼€ä¸€ä¸ª web é¡µé¢ç”¨äºæ¥ä¸‹æ¥çš„æµ‹è¯•</span></span><br><span class="line">  .page(<span class="string">'http://devexpress.github.io/testcafe/example'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line">test(<span class="string">'My first test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(<span class="string">'#developer-name'</span>, <span class="string">'John Smith'</span>)</span><br><span class="line">    .click(<span class="string">'#submit-button'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ–­è¨€æ–¹æ³•æ¥åˆ¤æ–­æˆ‘ä»¬è·å–åˆ°çš„å€¼ä¸æˆ‘ä»¬æœŸæœ›çš„å€¼æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">    .expect(Selector(<span class="string">'#article-header'</span>).innerText).eql(<span class="string">'Thank you, John Smith!1'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="API-æ–‡æ¡£-unfinished"><a href="#API-æ–‡æ¡£-unfinished" class="headerlink" title="API æ–‡æ¡£ (unfinished)"></a>API æ–‡æ¡£ (unfinished)</h1><h2 id="æµ‹è¯•ä»£ç ç»“æ„"><a href="#æµ‹è¯•ä»£ç ç»“æ„" class="headerlink" title="æµ‹è¯•ä»£ç ç»“æ„"></a>æµ‹è¯•ä»£ç ç»“æ„</h2><h3 id="æµ‹è¯•ç»„-Fixtures"><a href="#æµ‹è¯•ç»„-Fixtures" class="headerlink" title="æµ‹è¯•ç»„ Fixtures"></a>æµ‹è¯•ç»„ Fixtures</h3><p>TestCafe æµ‹è¯•å¿…é¡»å°†ä¸€äº›æµ‹è¯•ç»„ç»‡èµ·æ¥ï¼Œæµ‹è¯•ç»„ (Fixtures) å°±åƒæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†åŒä¸€ç±»çš„æµ‹è¯•åŒ…è£¹èµ·æ¥ã€‚ ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶å¯ä»¥åŒ…å«å¾ˆå¤šæµ‹è¯•ç»„ã€‚</p><p>è¦å£°æ˜ä¸€ä¸ªæµ‹è¯•ç»„ï¼Œä½¿ç”¨ <code>fixture</code> æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fixture( fixtrueName )</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–ä¸‹é¢è¿™ç§ç”¨æ³•</span></span><br><span class="line">fixture <span class="string">`fixtureName`</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>fixtureName</code></td><td>string</td><td>æµ‹è¯•ç»„çš„åç§°</td></tr></tbody></table><p>å®ƒè¿”å›ä¸€ä¸ªæµ‹è¯•ç»„å¯¹è±¡ï¼Œå¯ä»¥æ¥æµ‹è¯•ç»„æ–¹æ³•ï¼Œæœ‰å…³è¿™äº›æ–¹æ³•ï¼Œè¯·å‚è€ƒä¸‹æ–¹ç›¸å…³ APIã€‚</p><blockquote><p>è¯·æ³¨æ„ï¼Œæµ‹è¯•æ–¹æ³• <code>test</code> å¿…é¡»æ”¾åœ¨æµ‹è¯•ç»„å£°æ˜åé¢ã€‚</p></blockquote><h3 id="æµ‹è¯•ç”¨ä¾‹-Tests"><a href="#æµ‹è¯•ç”¨ä¾‹-Tests" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹ Tests"></a>æµ‹è¯•ç”¨ä¾‹ Tests</h3><p>ä½ å¯ä»¥ä½¿ç”¨ <code>test</code> æ–¹æ³•å£°æ˜ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test( testName, fn(t) )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>testName</code></td><td>string</td><td>æµ‹è¯•ç”¨ä¾‹çš„åç§°</td></tr><tr><td><code>fn</code></td><td>Function</td><td>åŒ…å«æµ‹è¯•ä»£ç çš„å¼‚æ­¥å‡½æ•°</td></tr><tr><td><code>t</code></td><td>Object</td><td>æµ‹è¯•ç”¨ä¾‹çš„<a href="#">æµ‹è¯•æ§åˆ¶å™¨</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fixture(<span class="string">'MyFixture'</span>)</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Test1'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="comment">/* Test 1 Code */</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Test2'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="comment">/* Test 2 Code */</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>TestCafe æµ‹è¯•åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œã€‚ ä½ å¯ä»¥ä½¿ç”¨<a href="#åŠ¨ä½œ">æµ‹è¯•åŠ¨ä½œ</a>æ¥æ“çºµæµ‹è¯•çš„ç½‘é¡µã€‚ è¦ç¡®å®šé¡µé¢å…ƒç´ çš„çŠ¶æ€æˆ–ä»å®¢æˆ·ç«¯è·å–ä»»ä½•å…¶ä»–æ•°æ®ï¼Œè¯·ä½¿ç”¨<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a>å’Œå®¢æˆ·ç«¯æ–¹æ³•ã€‚</p><p>è¦æ£€æŸ¥é¡µé¢çŠ¶æ€æ˜¯å¦ä¸é¢„æœŸé¡µé¢çŠ¶æ€åŒ¹é…ï¼Œè¯·ä½¿ç”¨<a href="#æ–­è¨€">æ–­è¨€</a>ã€‚</p><h4 id="æµ‹è¯•æ§åˆ¶å™¨-Test-Controller"><a href="#æµ‹è¯•æ§åˆ¶å™¨-Test-Controller" class="headerlink" title="æµ‹è¯•æ§åˆ¶å™¨ Test Controller"></a>æµ‹è¯•æ§åˆ¶å™¨ Test Controller</h4><p>å¦‚æœè¦ä½¿ç”¨<a href="#åŠ¨ä½œ">æµ‹è¯•åŠ¨ä½œ</a>ã€<a href="#æ–­è¨€">æ–­è¨€</a>ã€æˆ–è€…<a href="#ç­‰å¾…">ç­‰å¾…</a>, å¿…é¡»æŒ‚åœ¨åœ¨æµ‹è¯•æ§åˆ¶å™¨ä¸Š.</p><h3 id="æŒ‡å®šèµ·å§‹é¡µé¢"><a href="#æŒ‡å®šèµ·å§‹é¡µé¢" class="headerlink" title="æŒ‡å®šèµ·å§‹é¡µé¢"></a>æŒ‡å®šèµ·å§‹é¡µé¢</h3><p>æ‚¨å¯ä»¥æŒ‡å®š fixture ä¸­æ‰€æœ‰æµ‹è¯•å¯åŠ¨æ—¶çš„ web é¡µé¢ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fixture.page( url )</span><br><span class="line">fixture.page <span class="string">`url`</span></span><br></pre></td></tr></table></figure><p>ç±»ä¼¼çš„ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºç‰¹å®šçš„æµ‹è¯•ç”¨ä¾‹ç½®é¡¶ä¸€ä¸ªèµ·å§‹çš„ web é¡µé¢ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test.page( url )</span><br><span class="line">test.page <span class="string">`url`</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>æŒ‡å®šèµ·å§‹é¡µé¢çš„ URL</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fixture(<span class="string">'MyFixture'</span>)</span><br><span class="line">  .page(<span class="string">'http://devexpress.github.io/testcafe/example'</span>)</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Test1'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="comment">// Starts at http://devexpress.github.io/testcafe/example</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">test.page(<span class="string">'http://devexpress.github.io/testcafe/blog/'</span>)</span><br><span class="line">  (<span class="string">'Test2'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">      <span class="comment">// Starts at http://devexpress.github.io/testcafe/blog/</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰æŒ‡å®šèµ·å§‹é¡µé¢ï¼Œåˆ™æ‰“å¼€ <code>about:blank</code> é¡µé¢ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>file://</code> åè®®æˆ–ç›¸å¯¹è·¯å¾„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fixture(<span class="string">'MyFixture'</span>)</span><br><span class="line">  .page(<span class="string">'file:///user/my-website/index.html'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fixture(<span class="string">'MyFixture'</span>)</span><br><span class="line">  .page(<span class="string">'../my-project/index.html'</span>)</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•å…ƒæ•°æ®"><a href="#æµ‹è¯•å…ƒæ•°æ®" class="headerlink" title="æµ‹è¯•å…ƒæ•°æ®"></a>æµ‹è¯•å…ƒæ•°æ®</h3><p>ä½ å¯ä»¥ä½¿ç”¨é”®å€¼å¯¹çš„æ–¹å¼ä¸ºæµ‹è¯•æŒ‡å®šå…ƒæ•°æ®ï¼Œå¹¶åœ¨æµ‹è¯•æŠ¥å‘Šä¸­å±•ç¤ºè¿™äº›å…ƒæ•°æ®ã€‚</p><p>è¦å®šä¹‰å…ƒæ•°æ®ï¼Œè¯·ä½¿ç”¨ <code>meta</code> æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fixture</span><br><span class="line">  .meta(<span class="string">'fixtureID'</span>, <span class="string">'f-0001'</span>)</span><br><span class="line">  .meta(&#123; <span class="attr">author</span>: <span class="string">'John'</span>, <span class="attr">creationDate</span>: <span class="string">'05/03/2018'</span> &#125;)</span><br><span class="line">  </span><br><span class="line">test</span><br><span class="line">  .meta(<span class="string">'testID'</span>, <span class="string">'t-0001'</span>)</span><br><span class="line">  .meta(&#123; <span class="attr">severity</span>: <span class="string">'critical'</span>, <span class="attr">testedAPIVersion</span>: <span class="string">'1.0'</span> &#125;)</span><br><span class="line">  (<span class="string">'MyTest'</span>, <span class="keyword">async</span> t =&gt; &#123; <span class="comment">/* ... */</span>&#125;)</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥ä½¿ç”¨ <a href="https://devexpress.github.io/testcafe/documentation/extending-testcafe/reporter-plugin/" target="_blank" rel="noopener">custom reporter</a> æ¥è®¿é—®æµ‹è¯•å…ƒæ•°æ®ã€‚</p><p>æŠ¥å‘Šå™¨çš„ <code>reportFixtureStart</code> å’Œ <code>reportTestDone</code> æ–¹æ³•æ¥è®¿é—®æµ‹è¯•å…ƒæ•°æ®</p><h3 id="é’©å­"><a href="#é’©å­" class="headerlink" title="é’©å­"></a>é’©å­</h3><h4 id="æµ‹è¯•ç»„é’©å­"><a href="#æµ‹è¯•ç»„é’©å­" class="headerlink" title="æµ‹è¯•ç»„é’©å­"></a>æµ‹è¯•ç»„é’©å­</h4><p>åœ¨æ¯ä¸ªæµ‹è¯•ç»„å¼€å§‹å‰ã€ç»“æŸåï¼Œéƒ½å¯ä»¥æ‰§è¡Œç‰¹å®šçš„æ–¹æ³•ï¼Œå®ƒå«åšé’©å­ã€‚å¦‚æœä¸€ä¸ªæµ‹è¯•åœ¨å¤šä¸ªæµè§ˆå™¨ä¸­è¿è¡Œï¼Œåˆ™åœ¨æ¯ä¸ªæµè§ˆå™¨ä¸­éƒ½ä¼šæ‰§è¡ŒæŒ‡å®šé’©å­ã€‚</p><p>ä½ å¯ä»¥æŒ‡å®šæµ‹è¯•ç»„å¼€å§‹å‰ã€ç»“æŸåæ‰§è¡Œçš„é’©å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fixture <span class="string">`My fixture`</span></span><br><span class="line">  .page <span class="string">`http://example.com`</span></span><br><span class="line">  .before( <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">    <span class="comment">/* fixture initialization code */</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .after( <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">    <span class="comment">/* fixture finalization code */</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ç”¨ä¾‹é’©å­"><a href="#æµ‹è¯•ç”¨ä¾‹é’©å­" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹é’©å­"></a>æµ‹è¯•ç”¨ä¾‹é’©å­</h4><p>åœ¨æ¯æ¬¡æµ‹è¯•çš„å¼€å§‹å‰ã€ç»“æŸåï¼Œä¹Ÿæœ‰ç›¸åº”çš„é’©å­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fixture.beforeEach( fn(t) )</span><br><span class="line">fixture.afterEach( fn(t) )</span><br><span class="line"></span><br><span class="line">test.before( fn(t) )</span><br><span class="line">test.after( fn(t) )</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæŒ‡å®šäº† <code>test.before()</code> æˆ– <code>test.after()</code>ï¼Œ é‚£ä¹ˆå®ƒä¼šè¦†ç›– <code>fixture.beforeEach()</code> æˆ– <code>fixture.afterEach()</code> çš„é’©å­ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fixture <span class="string">`My fixture`</span></span><br><span class="line">  .page <span class="string">`http://example.com`</span></span><br><span class="line">  .beforeEach( <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">      <span class="comment">/* test initialization code */</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .afterEach( <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">      <span class="comment">/* test finalization code */</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">test</span><br><span class="line">  .before( <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">      <span class="comment">/* test initialization code */</span></span><br><span class="line">  &#125;)</span><br><span class="line">  (<span class="string">'MyTest'</span>, <span class="keyword">async</span> t =&gt; &#123; <span class="comment">/* ... */</span> &#125;)</span><br><span class="line">  .after( <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">      <span class="comment">/* test finalization code */</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h4 id="åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´å…±äº«å˜é‡"><a href="#åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´å…±äº«å˜é‡" class="headerlink" title="åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´å…±äº«å˜é‡"></a>åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´å…±äº«å˜é‡</h4><p>é€šè¿‡ä½¿ç”¨æµ‹è¯•çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæ¥å…±äº«åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´çš„å˜é‡ã€‚</p><p>æµ‹è¯•çš„ä¸Šä¸‹æ–‡å¯¹è±¡ä¸º <code>t.ctx</code>ï¼Œä½¿ç”¨å®ƒæ¥ä»£æ›¿å…¨å±€å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fixture <span class="string">`Fixture1`</span></span><br><span class="line">  .beforeEach(<span class="keyword">async</span> t  =&gt; &#123;</span><br><span class="line">    t.ctx.someProp = <span class="number">123</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">test</span><br><span class="line">  (<span class="string">'Test1'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(t.ctx.someProp); <span class="comment">// &gt; 123</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .after(<span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(t.ctx.someProp); <span class="comment">// &gt; 123</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªæµ‹è¯•éƒ½æœ‰è‡ªå·±çš„æµ‹è¯•ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚æ¯æ¬¡æµ‹è¯•å¼€å§‹æ—¶ï¼Œ<code>t.ctx</code> éƒ½æ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡ã€‚</p></blockquote><p>åœ¨æµ‹è¯•ç»„çš„é’©å­ä¸­ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°ä¸º <code>ctx</code>ï¼Œå³ä¸ºæµ‹è¯•çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œåœ¨æµ‹è¯•ä»£ç ä¸­å¯ä»¥ä½¿ç”¨ <code>t.fixtureCtx</code> æ¥è®¿é—®å®ƒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fixture <span class="string">`Fixture1`</span></span><br><span class="line">  .before(<span class="keyword">async</span> ctx  =&gt; &#123;</span><br><span class="line">    ctx.someProp = <span class="number">123</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .after(<span class="keyword">async</span> ctx  =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(ctx.newProp); <span class="comment">// &gt; abc</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Test1'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(t.fixtureCtx.someProp); <span class="comment">// &gt; 123</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Test2'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  t.fixtureCtx.newProp = <span class="string">'abc'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="è·³è¿‡æµ‹è¯•"><a href="#è·³è¿‡æµ‹è¯•" class="headerlink" title="è·³è¿‡æµ‹è¯•"></a>è·³è¿‡æµ‹è¯•</h3><p>ä½ åœ¨å†™æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¯ä»¥è·³è¿‡æŸä¸ªæµ‹è¯•ç”¨ä¾‹æˆ–è€…åªæ‰§è¡ŒæŸä¸ªæµ‹è¯•ç”¨ä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fixture.skip <span class="string">`Fixture1`</span>; <span class="comment">// æ‰€æœ‰è¯¥æµ‹è¯•ç»„çš„ç”¨ä¾‹éƒ½ä¼šè¢«è·³è¿‡</span></span><br><span class="line"></span><br><span class="line">test(<span class="string">'Fixture1Test1'</span>, () =&gt; &#123;&#125;);</span><br><span class="line">test(<span class="string">'Fixture1Test2'</span>, () =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`Fixture2`</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Fixture2Test1'</span>, () =&gt; &#123;&#125;);</span><br><span class="line">test.skip(<span class="string">'Fixture2Test2'</span>, () =&gt; &#123;&#125;); <span class="comment">// è¿™ä¸ªæµ‹è¯•ç”¨ä¾‹ä¼šè¢«è·³è¿‡</span></span><br><span class="line">test(<span class="string">'Fixture2Test3'</span>, () =&gt; &#123;&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fixture.only <span class="string">`Fixture1`</span>;</span><br><span class="line">test(<span class="string">'Fixture1Test1'</span>, () =&gt; &#123;&#125;);</span><br><span class="line">test(<span class="string">'Fixture1Test2'</span>, () =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`Fixture2`</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Fixture2Test1'</span>, () =&gt; &#123;&#125;);</span><br><span class="line">test.only(<span class="string">'Fixture2Test2'</span>, () =&gt; &#123;&#125;);</span><br><span class="line">test(<span class="string">'Fixture2Test3'</span>, () =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªæœ‰ `Fixture1` æµ‹è¯•ç»„å’Œ `Fixture2Test2` æµ‹è¯•ç”¨ä¾‹ä¼šè¢«æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><h2 id="é¡µé¢å…ƒç´ é€‰æ‹©"><a href="#é¡µé¢å…ƒç´ é€‰æ‹©" class="headerlink" title="é¡µé¢å…ƒç´ é€‰æ‹©"></a>é¡µé¢å…ƒç´ é€‰æ‹©</h2><h3 id="é€‰æ‹©å™¨-selector"><a href="#é€‰æ‹©å™¨-selector" class="headerlink" title="é€‰æ‹©å™¨ selector"></a>é€‰æ‹©å™¨ selector</h3><p>é€‰æ‹©å™¨æ˜¯æ ‡è¯†æµ‹è¯•ä¸­çš„ç½‘é¡µå…ƒç´ çš„æ–¹æ³•ã€‚é€‰æ‹©å™¨ API æä¾›äº†é€‰æ‹©é¡µé¢ä¸Šçš„å…ƒç´ å¹¶è·å–å…¶çŠ¶æ€çš„æ–¹æ³•å’Œå±æ€§ã€‚</p><p>è¦ä» <code>testcafe</code> æ¨¡å—å¯¼å…¥ <code>Selector</code> æ„é€ å‡½æ•°ï¼Œè°ƒç”¨æ­¤æ„é€ å‡½æ•°å¹¶å°† CSS é€‰æ‹©å™¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> article = Selector(<span class="string">'.article-content'</span>);</span><br></pre></td></tr></table></figure><p><code>Selector</code> å‚æ•°è¯­æ³•ç±»ä¼¼äº jQuery é€‰æ‹©å™¨è¯­æ³•ï¼Œä»–ä»¬éƒ½æ˜¯ä½¿ç”¨çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors" target="_blank" rel="noopener">CSSé€‰æ‹©å™¨</a> è¯­æ³•ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ª class ä¸º <code>atricle-content</code> çš„å…ƒç´ ã€‚ ç„¶åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰æ‹©å™¨å¯¹å¯¹å…ƒç´ è¿›è¡Œæ“ä½œäº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.click(article)</span><br></pre></td></tr></table></figure><p>æˆ–è€…åœ¨æ–­è¨€æ–¹æ³•ä¸­ä½¿ç”¨å®ƒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect(article.scrollHeight).eql(<span class="number">1800</span>)</span><br></pre></td></tr></table></figure><p>ç”šè‡³è¿˜å¯ä»¥ç¼–å†™ä¸€ä¸ªåŒ¹é…å¤šä¸ªé¡µé¢å…ƒç´ çš„é€‰æ‹©å™¨ï¼Œç„¶åæŒ‰æ–‡æœ¬ã€å±æ€§ç­‰å¯¹å®ƒä»¬è¿›è¡Œè¿‡æ»¤ã€‚ ä¸‹é¢è¿™ä¸¤ä¸ªä¾‹å­é¦–å…ˆé€‰æ‹©äº†ä¸€ä¸ª class ä¸º <code>radio-button</code> çš„å…ƒç´ ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ–‡æœ¬ä¸º â€œWindowsâ€ï¼Œç¬¬äºŒä¸ªæ˜¯å«æœ‰å±æ€§ä¸º <code>selected</code> çš„å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> windowsRadioButton  = Selector(<span class="string">'.radio-button'</span>).withText(<span class="string">'Windows'</span>);</span><br><span class="line"><span class="keyword">const</span> selectedRadioButton = Selector(<span class="string">'.radio-button'</span>).withAttribute(<span class="string">'selected'</span>);</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦åœ¨ DOM æ ‘ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨é€‰æ‹©å™¨ API çš„<a href="">æœç´¢æ–¹æ³•</a>æŸ¥æ‰¾å®ƒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buttonWrapper = Selector(<span class="string">'.article-content'</span>).find(<span class="string">'#share-button'</span>).parent();</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºé€‰æ‹©å™¨"><a href="#åˆ›å»ºé€‰æ‹©å™¨" class="headerlink" title="åˆ›å»ºé€‰æ‹©å™¨"></a>åˆ›å»ºé€‰æ‹©å™¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Selector( init [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>init</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>æ ‡è¯†è¦é€‰æ‹©çš„ DOM èŠ‚ç‚¹</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="">é€‰æ‹©å™¨é€‰é¡¹</a></td></tr></tbody></table><ul><li><p>ä½¿ç”¨ä¸€ä¸ª CSS é€‰æ‹©å™¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> usernameInput = Selector(<span class="string">'#username'</span>);</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ä¸€ä¸ªåœ¨å®¢æˆ·ç«¯æ‰§è¡Œçš„å‡½æ•°ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ª <code>DOM node</code>ï¼Œä¸€ç»„ <code>DOM nodes</code>ï¼Œ <code>NodeList</code>, <code>HTMLCollection</code>, <code>null</code> æˆ–è€… <code>undefined</code>ï¼Œæˆ–è€… Promise.resolve() ä¸ºä»¥ä¸Šå†…å®¹çš„æ–¹æ³•</p><p>è¯·æ³¨æ„ï¼Œå®ƒä¸èƒ½ä½¿ç”¨ä¸€äº›å¤–éƒ¨å˜é‡ï¼Œå› ä¸ºè¯¥æ–¹æ³•æ˜¯åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> element = Selector(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> storedElementId = <span class="built_in">window</span>.localStorage.storedElementId;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(storedElementId);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ª <code>Selector</code> æ„é€ å™¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ctaButton = Selector(<span class="string">'.cta-button'</span>);</span><br><span class="line">Selector(ctaButton, &#123; <span class="attr">visibilityCheck</span>: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨é€‰æ‹©å™¨"><a href="#ä½¿ç”¨é€‰æ‹©å™¨" class="headerlink" title="ä½¿ç”¨é€‰æ‹©å™¨"></a>ä½¿ç”¨é€‰æ‹©å™¨</h4><p>æœ¬ä¸»é¢˜æè¿°å¦‚ä½•æ ‡è¯†DOMå…ƒç´ å¹¶ä½¿ç”¨é€‰æ‹©å™¨è·å–å…³äºå®ƒä»¬çš„ä¿¡æ¯ã€‚</p><h5 id="æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨"><a href="#æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨" class="headerlink" title="æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨"></a>æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</h5><p>é€‰æ‹©å™¨å¯èƒ½è¿”å›ä¸€ä¸ªã€å¤šä¸ªæˆ–è€…ä¸å­˜åœ¨åŒ¹é…çš„å…ƒç´ ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å±æ€§æ¥æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œæˆ–è€…ç¡®å®šåŒ¹é…å…ƒç´ çš„æ•°é‡ã€‚</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>exists</code></td><td>boolean</td><td>å¦‚æœåŒ¹é…åˆ°å…ƒç´ åˆ™è¿”å› <code>true</code></td></tr><tr><td><code>count</code></td><td>number</td><td>é€‰æ‹©å™¨åŒ¹é…çš„èŠ‚ç‚¹æ•°é‡</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`Example page`</span></span><br><span class="line">  .page <span class="string">`http://devexpress.github.io/testcafe/example/`</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> osCount            = Selector(<span class="string">'.column.col-2 label'</span>).count;</span><br><span class="line">  <span class="keyword">const</span> submitButtonExists = Selector(<span class="string">'#submit-button'</span>).exists;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .expect(osCount).eql(<span class="number">3</span>)</span><br><span class="line">    .expect(submitButtonExists).ok();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œé€‰æ‹©å™¨çš„ getter æ˜¯å¼‚æ­¥çš„</p></blockquote><h5 id="è·å–å…ƒç´ çš„çŠ¶æ€"><a href="#è·å–å…ƒç´ çš„çŠ¶æ€" class="headerlink" title="è·å–å…ƒç´ çš„çŠ¶æ€"></a>è·å–å…ƒç´ çš„çŠ¶æ€</h5><p>ä½ ä¹Ÿå¯ä»¥è·å–é€‰æ‹©å™¨åŒ¹é…å…ƒç´ çš„çŠ¶æ€ï¼ˆsizeã€positionã€classes ç­‰ï¼‰ã€‚æœ‰å…³<a href="#">å…ƒç´ çš„çŠ¶æ€</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`My fixture`</span></span><br><span class="line">  .page(<span class="string">'http://devexpress.github.io/testcafe/example/'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> windowsInput = Selector(<span class="string">'#windows'</span>);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Obtain Element State'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.click(windowsInput);</span><br><span class="line">  <span class="keyword">const</span> windowsInputChecked = <span class="keyword">await</span> windowsInput.checked; <span class="comment">// returns true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6 id="DOM-èŠ‚ç‚¹å¿«ç…§"><a href="#DOM-èŠ‚ç‚¹å¿«ç…§" class="headerlink" title="DOM èŠ‚ç‚¹å¿«ç…§"></a>DOM èŠ‚ç‚¹å¿«ç…§</h6><p>å¦‚æœä½ éœ€è¦è·å–æ•´ä¸ª DOM å…ƒç´ å®ä¾‹çš„çŠ¶æ€ï¼Œéœ€è¦ä½¿ç”¨ <code>await</code> æ¥åŒ¹é…</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`My fixture`</span></span><br><span class="line">  .page <span class="string">`http://devexpress.github.io/testcafe/example/`</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">'DOM Node Snapshot'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> sliderHandle = Selector(<span class="string">'#slider'</span>).child(<span class="string">'span'</span>);</span><br><span class="line">  <span class="keyword">const</span> sliderHandleSnapshot = <span class="keyword">await</span> sliderHandle();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(sliderHandleSnapshot.hasClass(<span class="string">'ui-slider-handle'</span>));    <span class="comment">// =&gt; true</span></span><br><span class="line">  <span class="built_in">console</span>.log(sliderHandleSnapshot.childElementCount);               <span class="comment">// =&gt; 0</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="å®šä¹‰åŠ¨ä½œçš„ç›®æ ‡"><a href="#å®šä¹‰åŠ¨ä½œçš„ç›®æ ‡" class="headerlink" title="å®šä¹‰åŠ¨ä½œçš„ç›®æ ‡"></a>å®šä¹‰åŠ¨ä½œçš„ç›®æ ‡</h5><p>ä½ è¿˜å¯ä»¥å°†é€‰æ‹©å™¨çš„è¿”å›å€¼ä½œä¸ºæµ‹è¯•æ§åˆ¶å™¨æ“ä½œçš„ç›®æ ‡ã€‚DOM èŠ‚ç‚¹å¿«ç…§åŒæ ·å¯ä»¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`My fixture`</span></span><br><span class="line">    .page <span class="string">`http://devexpress.github.io/testcafe/example/`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> label = Selector(<span class="string">'#tried-section'</span>).child(<span class="string">'label'</span>);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'My Test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> labelSnapshot = <span class="keyword">await</span> label();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t.click(labelSnapshot);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœåŒ¹é…åˆ°å¤šä¸ªç›®æ ‡å…ƒç´ ï¼Œé‚£ä¹ˆåªæœ‰åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šè¢«æ“ä½œã€‚</p><h5 id="å®šä¹‰æ–­è¨€çš„ç›®æ ‡"><a href="#å®šä¹‰æ–­è¨€çš„ç›®æ ‡" class="headerlink" title="å®šä¹‰æ–­è¨€çš„ç›®æ ‡"></a>å®šä¹‰æ–­è¨€çš„ç›®æ ‡</h5><p>ä½ å¯ä»¥å°†é€‰æ‹©å™¨çš„è¿”å›å€¼ä½œä¸ºæ–­è¨€çš„ç›®æ ‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span>;</span><br><span class="line"></span><br><span class="line">fixture <span class="string">`My fixture`</span></span><br><span class="line">  .page <span class="string">`http://devexpress.github.io/testcafe/example/`</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Assertion with Selector'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> developerNameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .expect(developerNameInput.value).eql(<span class="string">''</span>)</span><br><span class="line">    .typeText(developerNameInput, <span class="string">'Peter'</span>)</span><br><span class="line">    .expect(developerNameInput.value).eql(<span class="string">'Peter'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="é€‰æ‹©å™¨è¶…æ—¶"><a href="#é€‰æ‹©å™¨è¶…æ—¶" class="headerlink" title="é€‰æ‹©å™¨è¶…æ—¶"></a>é€‰æ‹©å™¨è¶…æ—¶</h5><p>åœ¨æµ‹è¯•æœŸé—´ï¼Œtestcafe ä¼šä¸€æ¬¡åˆä¸€æ¬¡çš„æ£€æŸ¥ï¼Œç­‰å¾…ç›®æ ‡å…ƒç´ å˜å¾—å¯è§ï¼Œå¦‚æœè¶…æ—¶è¿˜ä¸å¯è§åˆ™ä¸ä¼šé€šè¿‡æµ‹è¯•ç”¨ä¾‹ã€‚</p><p><strong>å¦‚ä½•è®¾ç½®è¶…æ—¶</strong></p><ul><li>ä½ å¯ä»¥åœ¨é€‰æ‹©å™¨æ„é€ å‡½æ•°çš„<a href="#">é€‰é¡¹</a>ä¸­æŒ‡å®šè¶…æ—¶æ—¶é—´ã€‚</li><li>å¦‚æœä½¿ç”¨ API è¿›è¡Œæµ‹è¯•ï¼Œåˆ™éœ€è¦åœ¨ <a href="#"><code>runner.run</code></a> æ–¹æ³•ä¸­æŒ‡å®šã€‚</li><li>å¦‚æœä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨ï¼Œåˆ™éœ€è¦æŒ‡å®š<a href="#">é€‰æ‹©å™¨è¶…æ—¶</a> é€‰é¡¹ã€‚</li></ul><h5 id="è°ƒè¯•é€‰æ‹©å™¨"><a href="#è°ƒè¯•é€‰æ‹©å™¨" class="headerlink" title="è°ƒè¯•é€‰æ‹©å™¨"></a>è°ƒè¯•é€‰æ‹©å™¨</h5><p>Testcafe ä¼šè¾“å‡ºæœ‰å…³äºæµ‹è¯•æŠ¥å‘Šè¿è¡Œå¤±è´¥æ—¶çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>å¦‚æœä½ å°è¯•ä½¿ç”¨ä¸åŒ¹é…ä»»ä½•DOMå…ƒç´ çš„é€‰æ‹©å™¨æ—¶ï¼Œæµ‹è¯•å¤±è´¥å¹¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚é”™è¯¯æ¶ˆæ¯æŒ‡ç¤ºå“ªä¸ªé€‰æ‹©å™¨å¤±è´¥ã€‚</p><p><img src="//static.mutoe.com/2018/testcafe/failed-selector-report.png" alt="failed selector report"></p><h4 id="é€‰æ‹©å™¨çš„æ–¹æ³•"><a href="#é€‰æ‹©å™¨çš„æ–¹æ³•" class="headerlink" title="é€‰æ‹©å™¨çš„æ–¹æ³•"></a>é€‰æ‹©å™¨çš„æ–¹æ³•</h4><h5 id="è¿‡æ»¤-DOM-èŠ‚ç‚¹"><a href="#è¿‡æ»¤-DOM-èŠ‚ç‚¹" class="headerlink" title="è¿‡æ»¤ DOM èŠ‚ç‚¹"></a>è¿‡æ»¤ DOM èŠ‚ç‚¹</h5><p>å¦‚æœé€‰æ‹©å™¨è¿”å›å¤šä¸ªDOMèŠ‚ç‚¹ï¼Œä½ å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œç­›é€‰ï¼Œä»¥é€‰æ‹©ä¸€ä¸ªæœ€ç»ˆå°†ç”±é€‰æ‹©å™¨è¿”å›çš„èŠ‚ç‚¹ã€‚é€‰æ‹©å™¨æä¾›äº†æ ¹æ®ç´¢å¼•ã€æ–‡æœ¬ã€å±æ€§ç­‰è¿‡æ»¤DOMèŠ‚ç‚¹çš„æ–¹æ³•ã€‚</p><h6 id="æ ¹æ®ç´¢å¼•-nth"><a href="#æ ¹æ®ç´¢å¼•-nth" class="headerlink" title="æ ¹æ®ç´¢å¼• (nth)"></a>æ ¹æ®ç´¢å¼• (nth)</h6><table><thead><tr><th>å‚æ•°</th><th>è¿”å›å€¼ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>nth(index)</code></td><td>Selector</td><td>æ ¹æ®åŒ¹é…é›†ä¸­çš„ç´¢å¼•æŸ¥æ‰¾å…ƒç´ ã€‚<code>index</code> å‚æ•°ä¸ºä» <code>0</code> å¼€å§‹çš„ç´¢å¼•ï¼Œå¦‚æœæŒ‡å®šä¸ºè´Ÿæ•°ï¼Œåˆ™ä»æœ«å°¾å¼€å§‹è®¡ç®—ç´¢å¼•ã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ç¬¬ä¸‰ä¸ª ul å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'ul'</span>).nth(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›æœ€åä¸€ä¸ª div å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'div'</span>).nth(<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><h5 id="æ ¹æ®æ–‡æœ¬-withText-withExactText"><a href="#æ ¹æ®æ–‡æœ¬-withText-withExactText" class="headerlink" title="æ ¹æ®æ–‡æœ¬ (withText / withExactText)"></a>æ ¹æ®æ–‡æœ¬ (withText / withExactText)</h5><table><thead><tr><th>å‚æ•°</th><th>è¿”å›å€¼ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>withText(text)</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œè¯¥é€‰æ‹©å™¨è¿‡æ»¤æŒ‡å®š<strong>æ–‡æœ¬</strong>çš„åŒ¹é…é¡¹ï¼Œé€‰æ‹©åŒ…å«æ­¤æ–‡æœ¬çš„å…ƒç´ ã€‚<code>text</code> å‚æ•°åŒºåˆ†å¤§å°å†™ã€‚</td></tr><tr><td><code>withExactText(text)</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œè¯¥é€‰æ‹©å™¨è¿‡æ»¤æŒ‡å®š<strong>æ–‡æœ¬</strong>çš„åŒ¹é…é¡¹ï¼Œå°†ä¼šä¸¥æ ¼åŒ¹é…ç­‰äºè¯¥æ–‡æœ¬çš„å…ƒç´ ã€‚<code>text</code> å‚æ•°åŒºåˆ†å¤§å°å†™ã€‚</td></tr><tr><td><code>withText(regexp)</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œè¯¥é€‰æ‹©å™¨è¿‡æ»¤æŒ‡å®š<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>çš„åŒ¹é…é¡¹ã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å†…å®¹å«æœ‰ 'foo' çš„ label å…ƒç´ </span></span><br><span class="line"><span class="comment">// ä¸ä¼šè¿”å›å«æœ‰ 'foobar' æˆ– 'Foo' çš„å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'label'</span>).withText(<span class="string">'foo'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›åŒ¹é… /a[b-e]/ æ–‡æœ¬çš„ div å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">// ä¼šåŒ¹é… 'ab', 'ac'ã€‚ ä¸ä¼šåŒ¹é… 'bb', 'aa'</span></span><br><span class="line">Selector(<span class="string">'div'</span>).withText(<span class="regexp">/a[b-e]/</span>)</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œ <code>withText</code> ä¸ä»…ä¼šç•™ä¸‹ç«‹å³åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å…ƒç´ ï¼Œè¿˜ä¼šç•™ä¸‹å®ƒçš„ç¥–å…ˆå…ƒç´ ã€‚æ¯”å¦‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>some text<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªé€‰æ‹©å™¨ä¼šåŒ¹é… '.container' å’Œ '.child'</span></span><br><span class="line">Selector(<span class="string">'div'</span>).withText(<span class="string">'some text'</span>)</span><br></pre></td></tr></table></figure><h5 id="æ ¹æ®å±æ€§-withAttribute"><a href="#æ ¹æ®å±æ€§-withAttribute" class="headerlink" title="æ ¹æ®å±æ€§ (withAttribute)"></a>æ ¹æ®å±æ€§ (withAttribute)</h5><table><thead><tr><th>å‚æ•°</th><th>è¿”å›å€¼ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>withAttribute(attrName [, attrValue])</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œé€‰æ‹©åŒ…å«æŒ‡å®šå±æ€§(æˆ–å±æ€§å€¼)çš„å…ƒç´ ã€‚</td></tr></tbody></table><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>attrName</code></td><td>string &vert; RegExp</td><td>å±æ€§åï¼ŒåŒºåˆ†å¤§å°å†™ã€‚</td></tr><tr><td><code>attrValue</code> <em>(å¯é€‰çš„)</em></td><td>string &vert; RegExp</td><td>å±æ€§å€¼ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚ä½ å¯ä»¥çœç•¥å®ƒæ¥åŒ¹é…ä»»ä½•å€¼ã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ¹é…ä»»ä½•å«æœ‰ href å±æ€§çš„ a æ ‡ç­¾</span></span><br><span class="line">Selector(<span class="string">'a'</span>).withAttribute(<span class="string">'href'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒ¹é… title å±æ€§ä¸ºâ€˜å›¾ç‰‡â€™çš„ img å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'img'</span>).withAttribute(<span class="string">'title'</span>, <span class="string">'å›¾ç‰‡'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒ¹é…ä»»ä½• src å±æ€§ä»¥ 'https://static.mutoe.com' å¼€å¤´çš„ img å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'img'</span>).withAttribute(<span class="string">'src'</span>, /^https?:\/\/<span class="keyword">static</span>\.mutoe\.com/)</span><br></pre></td></tr></table></figure><h5 id="æ ¹æ®å¯è§æ€§-filterVisible-filterHidden"><a href="#æ ¹æ®å¯è§æ€§-filterVisible-filterHidden" class="headerlink" title="æ ¹æ®å¯è§æ€§ (filterVisible / filterHidden)"></a>æ ¹æ®å¯è§æ€§ (filterVisible / filterHidden)</h5><table><thead><tr><th>å‚æ•°</th><th>è¿”å›å€¼ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>filterVisible()</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œåªç•™ä¸‹å¯è§çš„å…ƒç´ ã€‚è¿™äº›å…ƒç´ <strong>æ²¡æœ‰</strong> <code>display: none;</code>, <code>visibility: hidden;</code>, <code>width: 0;</code> æˆ– <code>height: 0;</code> è¿™äº›å±æ€§</td></tr><tr><td><code>filterHidden()</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œåªç•™ä¸‹ä¸å¯è§çš„å…ƒç´ ã€‚è¿™äº›å…ƒç´ <strong>å«æœ‰</strong> <code>display: none;</code>, <code>visibility: hidden;</code>, <code>width: 0;</code> æˆ– <code>height: 0;</code> è¿™äº›å±æ€§</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€‰æ‹©æ‰€æœ‰å¯è§çš„ div å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'div'</span>).filterVisible()</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‰æ‹©æ‰€æœ‰éšè—çš„ input å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'input'</span>).filterHidden()</span><br></pre></td></tr></table></figure><h5 id="æ ¹æ®è¿‡æ»¤å™¨-filter"><a href="#æ ¹æ®è¿‡æ»¤å™¨-filter" class="headerlink" title="æ ¹æ®è¿‡æ»¤å™¨ (filter)"></a>æ ¹æ®è¿‡æ»¤å™¨ (filter)</h5><table><thead><tr><th>å‚æ•°</th><th>è¿”å›å€¼ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>filter(cssSelector)</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œæ ¹æ® css é€‰æ‹©å™¨çš„è¯­æ³•è¿‡æ»¤ã€‚</td></tr><tr><td><code>filter(filterFn(node, idx), dependencies)</code></td><td>Selector</td><td>åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr></tbody></table><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>cssSelector</code></td><td>string</td><td>css é€‰æ‹©å™¨</td></tr><tr><td><code>filterFn(node, idx)</code></td><td>Function</td><td>è¯¥æ–¹æ³•å°†ä¼šåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ‰§è¡Œ</td></tr><tr><td><code>dependencies</code></td><td>Function</td><td>éœ€è¦ä¼ é€’åˆ°å®¢æˆ·ç«¯çš„æ–¹æ³•ï¼Œå¦åˆ™è°ƒç”¨æ—¶ä¸ä¼šå‡ºç°åœ¨æµè§ˆå™¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­</td></tr><tr><td><code>node</code></td><td>Element</td><td>å½“å‰å…ƒç´ çš„ DOM node</td></tr><tr><td><code>idx</code></td><td>number</td><td>å½“å‰ DOM node æ‰€å¤„çš„ç´¢å¼•</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»æ‰€æœ‰ li æ ‡ç­¾ä¸­æŒ‘é€‰å«æœ‰ 'active' class çš„å…ƒç´ </span></span><br><span class="line">Selector(<span class="string">'li'</span>).filter(<span class="string">'.active'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Selector &#125; <span class="keyword">from</span> <span class="string">'testcafe'</span></span><br><span class="line"></span><br><span class="line">fixture <span class="string">`Example page`</span></span><br><span class="line">  .page <span class="string">`http://devexpress.github.io/testcafe/example/`</span></span><br><span class="line"></span><br><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> secondCheckBox = Selector(<span class="string">'input'</span>)</span><br><span class="line">    .withAttribute(<span class="string">'type'</span>, <span class="string">'checkbox'</span>)</span><br><span class="line">    .nth(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> checkedInputs = Selector(<span class="string">'input'</span>)</span><br><span class="line">    .withAttribute(<span class="string">'type'</span>, <span class="string">'checkbox'</span>)</span><br><span class="line">    .filter(<span class="function"><span class="params">node</span> =&gt;</span> node.checked)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> windowsLabel = Selector(<span class="string">'label'</span>)</span><br><span class="line">    .withText(<span class="string">'Windows'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(secondCheckBox)</span><br><span class="line">    .expect(checkedInputs.count).eql(<span class="number">1</span>)</span><br><span class="line">    .click(windowsLabel)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‰€æœ‰çš„ DOM éƒ½è¢«è¿‡æ»¤æ‰ï¼Œ<code>filter()</code> é€‰æ‹©å™¨ä¼šè¿”å› <code>null</code></p><h5 id="æ ¹æ®å…³ç³»-find-parent-child-sibling"><a href="#æ ¹æ®å…³ç³»-find-parent-child-sibling" class="headerlink" title="æ ¹æ®å…³ç³» (find / parent / child / sibling)"></a>æ ¹æ®å…³ç³» (find / parent / child / sibling)</h5><table><thead><tr><th>å‚æ•°</th><th>è¿”å›å€¼ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>find(cssSelector)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ css é€‰æ‹©å™¨ç­›é€‰å®ƒä»¬ã€‚</td></tr><tr><td><code>find(filterFn, dependencies)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr><tr><td><code>parent()</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„çˆ¶èŠ‚ç‚¹ã€‚ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯æœ€è¿‘çš„çˆ¶å…ƒç´ ï¼‰</td></tr><tr><td><code>parent(index)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„çˆ¶èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ç´¢å¼•ç­›é€‰å®ƒä»¬ã€‚<code>0</code> æ˜¯æœ€è¿‘çš„çˆ¶å…ƒç´ ï¼Œè´Ÿæ•°å°†ä¼šä»æ ¹ç»“ç‚¹å¼€å§‹è®¡ç®—ã€‚</td></tr><tr><td><code>parent(cssSelector)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„çˆ¶èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ css é€‰æ‹©å™¨ç­›é€‰ã€‚</td></tr><tr><td><code>parent(filterFn, dependencies)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„çˆ¶èŠ‚ç‚¹ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr><tr><td><code>child()</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å­èŠ‚ç‚¹ã€‚ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯æœ€è¿‘çš„å­å…ƒç´ ï¼‰</td></tr><tr><td><code>child(index)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å­èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ç´¢å¼•ç­›é€‰å®ƒä»¬ã€‚<code>0</code> æ˜¯æœ€è¿‘çš„å­å…ƒç´ ï¼Œè´Ÿæ•°å°†ä¼šä»æ ¹ç»“ç‚¹å¼€å§‹è®¡ç®—ã€‚</td></tr><tr><td><code>child(cssSelector)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å­èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ css é€‰æ‹©å™¨ç­›é€‰ã€‚</td></tr><tr><td><code>child(filterFn, dependencies)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å­èŠ‚ç‚¹ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr><tr><td><code>sibling()</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ã€‚ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯æœ€è¿‘çš„å…„å¼Ÿå…ƒç´ ï¼‰</td></tr><tr><td><code>sibling(index)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶é€šè¿‡ç´¢å¼•ç­›é€‰å®ƒä»¬ã€‚ä»¥ <code>0</code> å¼€å§‹ï¼Œè´Ÿæ•°å°†ä¼šä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚</td></tr><tr><td><code>sibling(cssSelector)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶é€šè¿‡ css é€‰æ‹©å™¨ç­›é€‰ã€‚</td></tr><tr><td><code>sibling(filterFn, dependencies)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr><tr><td><code>nextSibling()</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹ååŒ¹é…çš„å…„å¼Ÿå…ƒç´ ã€‚ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯ä¹‹åæœ€è¿‘çš„å…„å¼Ÿå…ƒç´ ï¼‰</td></tr><tr><td><code>nextSibling(index)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹ååŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶é€šè¿‡ç´¢å¼•ç­›é€‰å®ƒä»¬ã€‚ä»¥ <code>0</code> å¼€å§‹ï¼Œè´Ÿæ•°å°†ä¼šä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚</td></tr><tr><td><code>nextSibling(cssSelector)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹ååŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶é€šè¿‡ css é€‰æ‹©å™¨ç­›é€‰ã€‚</td></tr><tr><td><code>nextSibling(filterFn, dependencies)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹ååŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr><tr><td><code>prevSibling()</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹å‰åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ã€‚ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯ä¹‹å‰æœ€è¿‘çš„å…„å¼Ÿå…ƒç´ ï¼‰</td></tr><tr><td><code>prevSibling(index)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹å‰åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶é€šè¿‡ç´¢å¼•ç­›é€‰å®ƒä»¬ã€‚ä»¥ <code>0</code> å¼€å§‹ï¼Œè´Ÿæ•°å°†ä¼šä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚</td></tr><tr><td><code>prevSibling(cssSelector)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹å‰åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶é€šè¿‡ css é€‰æ‹©å™¨ç­›é€‰ã€‚</td></tr><tr><td><code>prevSibling(filterFn, dependencies)</code></td><td>Selector</td><td>è¿”å›å½“å‰å…ƒç´ ä¹‹å‰åŒ¹é…çš„å…„å¼Ÿå…ƒç´ ï¼Œæ ¹æ®èŠ‚ç‚¹çš„çŠ¶æ€è¿‡æ»¤ã€‚</td></tr></tbody></table><p><strong>ä¾‹å­</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Selector(<span class="string">'ul'</span>).find(<span class="string">'label'</span>).parent(<span class="string">'div.someClass'</span>)</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°é¡µé¢ä¸Šçš„æ‰€æœ‰ulå…ƒç´ ã€‚ç„¶åï¼Œåœ¨æ¯ä¸ªå·²æ‰¾åˆ°çš„ulå…ƒç´ ä¸­æ‰¾åˆ°labelå…ƒç´ ã€‚ç„¶åï¼Œä¸ºæ¯ä¸ªlabelå…ƒç´ æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…div.someClassé€‰æ‹©å™¨çš„çˆ¶å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Selector(<span class="string">'.container'</span>).parent(<span class="number">1</span>).nth(<span class="number">0</span>).find(<span class="string">'.content'</span>).withText(<span class="string">'yo!'</span>).child(<span class="string">'span'</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­åšäº†ä»¥ä¸‹äº‹æƒ…ï¼š</p><ul><li>æ‰¾åˆ° <code>.container</code> å…ƒç´ çš„ç¬¬äºŒä¸ªçˆ¶å…ƒç´ ï¼ˆçˆ¶å…ƒç´ çš„çˆ¶å…ƒç´ ï¼‰</li><li>é€‰æ‹©åŒ¹é…é›†ä¸­çš„ç¬¬ 1 ä¸ªå…ƒç´ </li><li>åœ¨è¯¥å…ƒç´ ä¸­ï¼ŒæŸ¥æ‰¾ä¸ <code>.content</code> é€‰æ‹©å™¨åŒ¹é…çš„å…ƒç´ </li><li>æ‰¾åˆ°æ–‡æœ¬åŒ…å« â€˜yo!â€™ çš„å…ƒç´ </li><li>åœ¨æ¯ä¸ªå·²è¿‡æ»¤çš„å…ƒç´ ä¸­ï¼Œæœç´¢æ ‡è®°åä¸º <code>span</code> çš„å­é¡¹ã€‚</li></ul><h4 id="é€‰æ‹©å™¨é€‰é¡¹-no"><a href="#é€‰æ‹©å™¨é€‰é¡¹-no" class="headerlink" title="é€‰æ‹©å™¨é€‰é¡¹ (no)"></a>é€‰æ‹©å™¨é€‰é¡¹ (no)</h4><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h4 id="é€‰æ‹©å™¨æ‹“å±•-no"><a href="#é€‰æ‹©å™¨æ‹“å±•-no" class="headerlink" title="é€‰æ‹©å™¨æ‹“å±• (no)"></a>é€‰æ‹©å™¨æ‹“å±• (no)</h4><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h4 id="è¾¹ç¼˜æƒ…å†µ-no"><a href="#è¾¹ç¼˜æƒ…å†µ-no" class="headerlink" title="è¾¹ç¼˜æƒ…å†µ (no)"></a>è¾¹ç¼˜æƒ…å†µ (no)</h4><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h3 id="DOM-èŠ‚ç‚¹çŠ¶æ€"><a href="#DOM-èŠ‚ç‚¹çŠ¶æ€" class="headerlink" title="DOM èŠ‚ç‚¹çŠ¶æ€"></a>DOM èŠ‚ç‚¹çŠ¶æ€</h3><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h3 id="ç‰¹å®šæ¡†æ¶çš„é€‰æ‹©å™¨-no"><a href="#ç‰¹å®šæ¡†æ¶çš„é€‰æ‹©å™¨-no" class="headerlink" title="ç‰¹å®šæ¡†æ¶çš„é€‰æ‹©å™¨ (no)"></a>ç‰¹å®šæ¡†æ¶çš„é€‰æ‹©å™¨ (no)</h3><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h3 id="ä¸€äº›ä¾‹å­-no"><a href="#ä¸€äº›ä¾‹å­-no" class="headerlink" title="ä¸€äº›ä¾‹å­ (no)"></a>ä¸€äº›ä¾‹å­ (no)</h3><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h2 id="åŠ¨ä½œ"><a href="#åŠ¨ä½œ" class="headerlink" title="åŠ¨ä½œ"></a>åŠ¨ä½œ</h2><h3 id="å•å‡»-click"><a href="#å•å‡»-click" class="headerlink" title="å•å‡» click"></a>å•å‡» click</h3><p>å•å‡»é¡µé¢ä¸Šçš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.click( selector [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#ç‚¹å‡»åŠ¨ä½œé€‰é¡¹-click-action">ç‚¹å‡»åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><p>ä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºå¦‚ä½•ä½¿ç”¨ <code>t.click</code> åŠ¨ä½œæ¥é€‰æ‹©ä¸€ä¸ªå¤é€‰æ¡†å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Click a check box and check its state'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> checkbox = Selector(<span class="string">'#testing-on-remote-devices'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(checkbox)</span><br><span class="line">    .expect(checkbox.checked).ok();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ä¸€ä¸ªä¾‹å­ä½¿ç”¨ <code>options</code> å‚æ•°åœ¨è¾“å…¥æ¡†ä¸­è®¾ç½®å…‰æ ‡ä½ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Click Input'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> nameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(nameInput, <span class="string">'Peter Parker'</span>)</span><br><span class="line">    .click(nameInput, &#123; <span class="attr">caretPos</span>: <span class="number">5</span> &#125;)</span><br><span class="line">    .pressKey(<span class="string">'backspace'</span>)</span><br><span class="line">    .expect(nameInput.value).eql(<span class="string">'Pete Parker'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="åŒå‡»-doubleClick"><a href="#åŒå‡»-doubleClick" class="headerlink" title="åŒå‡» doubleClick"></a>åŒå‡» doubleClick</h3><p>åŒå‡»é¡µé¢ä¸Šçš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.doubleClick( selector [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#ç‚¹å‡»åŠ¨ä½œé€‰é¡¹-click-action">ç‚¹å‡»åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><h3 id="å³å‡»-rightClick"><a href="#å³å‡»-rightClick" class="headerlink" title="å³å‡» rightClick"></a>å³å‡» rightClick</h3><p>å³å‡»é¡µé¢ä¸Šçš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.rightClick( selector [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#ç‚¹å‡»åŠ¨ä½œé€‰é¡¹-click-action">ç‚¹å‡»åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><h3 id="æ‹–æ‹½-drag"><a href="#æ‹–æ‹½-drag" class="headerlink" title="æ‹–æ‹½ drag"></a>æ‹–æ‹½ drag</h3><h4 id="æ‹–æ‹½ä¸€å®šè·ç¦»-drag"><a href="#æ‹–æ‹½ä¸€å®šè·ç¦»-drag" class="headerlink" title="æ‹–æ‹½ä¸€å®šè·ç¦» drag"></a>æ‹–æ‹½ä¸€å®šè·ç¦» drag</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.drag( selector, dragOffsetX, dragOffsetY [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>dragOffsetX</code></td><td>Number</td><td>é¼ æ ‡åœ¨ x è½´ä¸Šéœ€è¦æ‹–æ‹½çš„è·ç¦»</td></tr><tr><td><code>dragOffsetY</code></td><td>Number</td><td>é¼ æ ‡åœ¨ y è½´ä¸Šéœ€è¦æ‹–æ‹½çš„è·ç¦»</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#é¼ æ ‡åŠ¨ä½œé€‰é¡¹-mouse-action">é¼ æ ‡åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><p>ä¸‹é¢ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>t.drag</code> åŠ¨ä½œæ¥æ‹–æ‹½å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Drag slider'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> slider = Selector(<span class="string">'#developer-rating'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(<span class="string">'#i-tried-testcafe'</span>);</span><br><span class="line">    .expect(slider.value).eql(<span class="number">1</span>)</span><br><span class="line">    .drag(<span class="string">'.ui-slider-handle'</span>, <span class="number">360</span>, <span class="number">0</span>, &#123; <span class="attr">offsetX</span>: <span class="number">10</span>, <span class="attr">offsetY</span>: <span class="number">10</span> &#125;)</span><br><span class="line">    .expect(slider.value).eql(<span class="number">7</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="æ‹–æ‹½åˆ°å¦ä¸€ä¸ªå…ƒç´ ä¸Š-dragToElement"><a href="#æ‹–æ‹½åˆ°å¦ä¸€ä¸ªå…ƒç´ ä¸Š-dragToElement" class="headerlink" title="æ‹–æ‹½åˆ°å¦ä¸€ä¸ªå…ƒç´ ä¸Š dragToElement"></a>æ‹–æ‹½åˆ°å¦ä¸€ä¸ªå…ƒç´ ä¸Š dragToElement</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.dragToElement( selector, destinationSelector [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>destinationSelector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨, æ‹–æ‹½ç›®æ ‡å…ƒç´ ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹-dragToElement-action">æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><p>ä¸‹é¢è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>t.dragToElement</code> å°†å…ƒç´ æ‹–æ”¾åˆ°ç‰¹å®šåŒºåŸŸ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Drag an item from the toolbox'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> designSurfaceItems = Selector(<span class="string">'.design-surface'</span>).find(<span class="string">'.items'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .dragToElement(<span class="string">'.toolbox-item.text-input'</span>, <span class="string">'.design-surface'</span>)</span><br><span class="line">    .expect(designSurfaceItems.count).gt(<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="æ‚¬åœ-hover"><a href="#æ‚¬åœ-hover" class="headerlink" title="æ‚¬åœ hover"></a>æ‚¬åœ hover</h3><p>å°†é¼ æ ‡æŒ‡é’ˆæ‚¬åœåœ¨ç½‘é¡µå…ƒç´ ä¸Š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.hover( selector [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#é¼ æ ‡åŠ¨ä½œé€‰é¡¹-mouse-action">é¼ æ ‡åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><p>ä½¿ç”¨æ­¤æ“ä½œå¯ä»¥è°ƒç”¨å¼¹å‡ºå…ƒç´ ï¼Œä¾‹å¦‚æ‚¬åœåœ¨å…¶ä»–å…ƒç´ ä¸Šæ—¶å‡ºç°çš„æç¤ºçª—å£ã€å¼¹å‡ºèœå•æˆ–ä¸‹æ‹‰åˆ—è¡¨ã€‚</p><p>ä¸‹é¢è¿™ä¾‹å­æ¼”ç¤ºå¦‚ä½•å°†é¼ æ ‡æŒ‡é’ˆç§»åŠ¨åˆ°ç»„åˆæ¡†ä¸Šæ˜¾ç¤ºä¸‹æ‹‰åˆ—è¡¨ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªé¡¹ç›®å¹¶æ£€æŸ¥ç»„åˆæ¡†çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Select combo box value'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> comboBox = Selector(<span class="string">'.combo-box'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .hover(comboBox)</span><br><span class="line">    .click(<span class="string">'#i-prefer-both'</span>)</span><br><span class="line">    .expect(comboBox.value).eql(<span class="string">'Both'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é€‰æ‹©æ–‡æœ¬-selectText"><a href="#é€‰æ‹©æ–‡æœ¬-selectText" class="headerlink" title="é€‰æ‹©æ–‡æœ¬ selectText"></a>é€‰æ‹©æ–‡æœ¬ selectText</h3><h4 id="åœ¨-input-å…ƒç´ ä¸­"><a href="#åœ¨-input-å…ƒç´ ä¸­" class="headerlink" title="åœ¨ input å…ƒç´ ä¸­"></a>åœ¨ input å…ƒç´ ä¸­</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.selectText( selector [, startPos] [, endPos] [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td><td></td></tr><tr><td><code>startPos</code> <em>(å¯é€‰çš„)</em></td><td>Number</td><td>é€‰æ‹©çš„èµ·å§‹ä½ç½®ï¼Œä» 0 å¼€å§‹çš„æ•´æ•°</td><td>0</td></tr><tr><td><code>endPos</code> <em>(å¯é€‰çš„)</em></td><td>Number</td><td>é€‰æ‹©çš„ç»“æŸä½ç½®ï¼Œä» 0 å¼€å§‹çš„æ•´æ•°</td><td>å¯è§æ–‡æœ¬çš„é•¿åº¦</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action">åŸºæœ¬åŠ¨ä½œé€‰é¡¹</a></td><td></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> developerNameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getElementSelectionStart = ClientFunction(<span class="function"><span class="params">selector</span> =&gt;</span> selector().selectionStart);</span><br><span class="line"><span class="keyword">const</span> getElementSelectionEnd = ClientFunction(<span class="function"><span class="params">selector</span> =&gt;</span> selector().selectionEnd);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Select text within input'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(developerNameInput, <span class="string">'Test Cafe'</span>, &#123; <span class="attr">caretPos</span>: <span class="number">0</span> &#125;)</span><br><span class="line">    .selectText(developerNameInput, <span class="number">7</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .expect(<span class="keyword">await</span> getElementSelectionStart(developerNameInput)).eql(<span class="number">1</span>)</span><br><span class="line">    .expect(<span class="keyword">await</span> getElementSelectionEnd(developerNameInput)).eql(<span class="number">7</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœ <code>startPos</code> çš„å€¼å¤§äº <code>endPos</code> çš„å€¼ï¼Œåˆ™åŠ¨ä½œå°†æ‰§è¡Œå‘å‰é€‰æ‹©ã€‚</p></blockquote><h4 id="åœ¨-textarea-å…ƒç´ ä¸­"><a href="#åœ¨-textarea-å…ƒç´ ä¸­" class="headerlink" title="åœ¨ textarea å…ƒç´ ä¸­"></a>åœ¨ textarea å…ƒç´ ä¸­</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.selectTextAreaContent( selector [, startLine] [, startPos] [, endLine] [, endPos] [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td><td></td></tr><tr><td><code>startLine</code> <em>(å¯é€‰çš„)</em></td><td>Number</td><td>é€‰æ‹©å¼€å§‹çš„è¡Œå·ï¼Œä» 0 å¼€å§‹çš„æ•´æ•°</td><td>0</td></tr><tr><td><code>startPos</code> <em>(å¯é€‰çš„)</em></td><td>Number</td><td>é€‰æ‹©çš„èµ·å§‹ä½ç½®ï¼Œä» 0 å¼€å§‹çš„æ•´æ•°</td><td>0</td></tr><tr><td><code>endLine</code> <em>(å¯é€‰çš„)</em></td><td>Number</td><td>é€‰æ‹©ç»“æŸçš„è¡Œå·ï¼Œä» 0 å¼€å§‹çš„æ•´æ•°</td><td>æœ€åä¸€è¡Œçš„ç´¢å¼•</td></tr><tr><td><code>endPos</code> <em>(å¯é€‰çš„)</em></td><td>Number</td><td>é€‰æ‹©çš„ç»“æŸä½ç½®(åŸºäº <code>endline</code>)ï¼Œä» 0 å¼€å§‹çš„æ•´æ•°</td><td><code>endLine</code> çš„æœ€åä¸€ä¸ªå­—ç¬¦</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action">åŸºæœ¬åŠ¨ä½œé€‰é¡¹</a></td><td></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> commentTextArea = Selector(<span class="string">'#comments'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getElementSelectionStart = ClientFunction(<span class="function"><span class="params">selector</span> =&gt;</span> selector().selectionStart);</span><br><span class="line"><span class="keyword">const</span> getElementSelectionEnd   = ClientFunction(<span class="function"><span class="params">selector</span> =&gt;</span> selector().selectionEnd);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'Select text within textarea'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(<span class="string">'#tried-test-cafe'</span>)</span><br><span class="line">    .typeText(commentTextArea, [</span><br><span class="line">      <span class="string">'Lorem ipsum dolor sit amet'</span>,</span><br><span class="line">      <span class="string">'consectetur adipiscing elit'</span>,</span><br><span class="line">      <span class="string">'sed do eiusmod tempor'</span></span><br><span class="line">    ].join(<span class="string">',\n'</span>))</span><br><span class="line">    .selectTextAreaContent(commentTextArea, <span class="number">0</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .expect(<span class="keyword">await</span> getElementSelectionStart(commentTextArea)).eql(<span class="number">5</span>)</span><br><span class="line">    .expect(<span class="keyword">await</span> getElementSelectionEnd(commentTextArea)).eql(<span class="number">67</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœ <code>startLine</code> æ¯” <code>endLine</code> çš„å€¼å¤§ï¼Œåˆ™æ‰§è¡Œå‘å‰é€‰æ‹©ã€‚</p></blockquote><h4 id="åœ¨-contentEditable-å…ƒç´ ä¸­"><a href="#åœ¨-contentEditable-å…ƒç´ ä¸­" class="headerlink" title="åœ¨ contentEditable å…ƒç´ ä¸­"></a>åœ¨ contentEditable å…ƒç´ ä¸­</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.selectEditableContent( startSelector, endSelector [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>startSelector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>æ ‡è¯†å¼€å§‹é€‰æ‹©çš„å…ƒç´  selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td><td></td></tr><tr><td><code>endSelector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>æ ‡è¯†ç»“æŸé€‰æ‹©çš„å…ƒç´  selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td><td></td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action">åŸºæœ¬åŠ¨ä½œé€‰é¡¹</a></td><td></td></tr></tbody></table><p>æ­¤æ–¹æ³•é€‚ç”¨äºå¯ç”¨äº† <code>contentEditable</code> å±æ€§çš„ HTML å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Delete text within a contentEditable element'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .selectEditableContent(<span class="string">'#foreword'</span>, <span class="string">'#chapter-3'</span>)</span><br><span class="line">    .pressKey(<span class="string">'delete'</span>)</span><br><span class="line">    .expect(Selector(<span class="string">'#chapter-2'</span>).exists).notOk()</span><br><span class="line">    .expect(Selector(<span class="string">'#chapter-4'</span>).exists).ok();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é”®å…¥æ–‡æœ¬-typeText"><a href="#é”®å…¥æ–‡æœ¬-typeText" class="headerlink" title="é”®å…¥æ–‡æœ¬ typeText"></a>é”®å…¥æ–‡æœ¬ typeText</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.typeText( selector, text [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="#é€‰æ‹©å™¨-selector">é€‰æ‹©å™¨</a></td></tr><tr><td><code>text</code></td><td>string</td><td>è¦åœ¨æŒ‡å®šå…ƒç´ ä¸­è¾“å…¥çš„æ–‡æœ¬</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#è¾“å…¥åŠ¨ä½œé€‰é¡¹-typing-action">è¾“å…¥åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><blockquote><p>å¦‚æœè¦åˆ é™¤æ–‡æœ¬ï¼Œè¯·ä½¿ç”¨ <a href="#é€‰æ‹©æ–‡æœ¬-selectText"><code>t.selectText</code></a> å’Œ <a href="#æŒ‰é”®-pressKey"><code>t.pressKey</code></a> æ¥å®ç°</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Type and Replace'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> nameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(nameInput, <span class="string">'Peter'</span>)</span><br><span class="line">    .typeText(nameInput, <span class="string">'Paker'</span>, &#123; <span class="attr">replace</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    .typeText(nameInput, <span class="string">'r'</span>, &#123; <span class="attr">caretPos</span>: <span class="number">2</span> &#125;)</span><br><span class="line">    .expect(nameInput.value).eql(<span class="string">'Parker'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong></p><p>æŸäº›ç±»å‹çš„HTML5è¾“å…¥ï¼ˆå¦‚ DateTime ï¼Œ Color æˆ– Rangeï¼‰éœ€è¦ä»¥ç‰¹å®šæ ¼å¼è¾“å…¥å€¼ã€‚</p><p>The following table lists value formats expected by these inputs.</p><table><thead><tr><th>è¾“å…¥ç±»å‹</th><th>æ¨¡å¼</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>Date</td><td><code>yyyy-MM-dd</code></td><td><code>2018-10-25</code></td></tr><tr><td>Week</td><td><code>yyyy-Www</code></td><td><code>2018-W03</code></td></tr><tr><td>Month</td><td><code>yyyy-MM</code></td><td><code>2018-10</code></td></tr><tr><td>DateTime</td><td><code>yyyy-MM-ddThh:mm</code></td><td><code>2018-10-25T13:22</code></td></tr><tr><td>Time</td><td><code>hh:mm</code></td><td><code>13:22:28</code></td></tr><tr><td>Color</td><td><code>#rrggbb</code></td><td><code>#003500</code></td></tr><tr><td>Range</td><td><code>n</code></td><td><code>45</code></td></tr></tbody></table></blockquote><h3 id="æŒ‰é”®-pressKey"><a href="#æŒ‰é”®-pressKey" class="headerlink" title="æŒ‰é”® pressKey"></a>æŒ‰é”® pressKey</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.pressKey( keys [, options] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>keys</code></td><td>string</td><td>è¦åœ¨æŒ‡å®šå…ƒç´ ä¸­è¾“å…¥çš„æ–‡æœ¬</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>é€‰é¡¹, æœ‰å…³<a href="#åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action">åŸºæœ¬åŠ¨ä½œé€‰é¡¹</a></td></tr></tbody></table><p>ä¸‹è¡¨æ˜¾ç¤ºäº†å¦‚ä½•æŒ‡å®šä¸åŒç±»å‹ï¼Œé”®åºåˆ—å’Œç»„åˆçš„é”®ã€‚</p><table><thead><tr><th>æŒ‰é”®ç±»å‹</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>å­—æ¯å’Œæ•°å­—</td><td><code>a</code>, <code>A</code>, <code>1</code></td></tr><tr><td>ä¿®é¥°é”®</td><td><code>shift</code>, <code>alt</code>(<code>âŒ¥</code>), <code>ctrl</code>, <code>meta</code>(<code>âŒ˜</code>)</td></tr><tr><td>å¯¼èˆªå’Œæ“ä½œé”®</td><td><code>backspace</code>, <code>tab</code>, <code>enter</code>, <code>capslock</code>, <code>esc</code>, <code>space</code>, <code>pageup</code>, <code>pagedown</code>, <code>end</code>, <code>home</code>, <code>left</code>, <code>right</code>, <code>up</code>, <code>down</code>, <code>ins</code>, <code>delete</code></td></tr><tr><td>ç»„åˆé”®</td><td><code>shift+a</code>, <code>ctrl+d</code></td></tr><tr><td>ä¸€ç•ªæ“ä½œ</td><td><code>ctrl+a del</code>, <code>ctrl+a ctrl+c</code> (è‡ªç”±ç»„åˆæŒ‰é”®ï¼Œå¹¶ä½¿ç”¨ç©ºæ ¼åˆ†éš”å®ƒä»¬)</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Key Presses'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> nameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(nameInput, <span class="string">'Peter Parker'</span>)</span><br><span class="line">    .pressKey(<span class="string">'home right . delete delete delete delete'</span>)</span><br><span class="line">    .expect(nameInput.value).eql(<span class="string">'P. Parker'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é¡µé¢è·³è½¬-navigateTo"><a href="#é¡µé¢è·³è½¬-navigateTo" class="headerlink" title="é¡µé¢è·³è½¬ navigateTo"></a>é¡µé¢è·³è½¬ navigateTo</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.navigateTo( url )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>è¦å¯¼èˆªåˆ°çš„ URL åœ°å€ã€‚å¯ä»¥æ˜¯ç»å¯¹åœ°å€æˆ–ç›¸å¯¹åœ°å€</td></tr></tbody></table><p>ä¸‹é¢çš„ä¾‹å­æ¥æ¼”ç¤ºå¦‚ä½•å¯¼èˆªåˆ°ä¸€ä¸ªç»å¯¹åœ°å€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Navigate to the main page'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(<span class="string">'#submit-button'</span>)</span><br><span class="line">    .navigateTo(<span class="string">'http://devexpress.github.io/testcafe'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨é‡å®šå‘å‘ç”Ÿåï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…æœåŠ¡å™¨å“åº”ã€‚å¦‚æœæœåŠ¡å™¨åœ¨ 15s å†…æ²¡æœ‰å“åº”ï¼Œæµ‹è¯•å°†ä¼šè¢«æ¢å¤(?)ã€‚</p><h3 id="æˆªå›¾-takeScreenshot"><a href="#æˆªå›¾-takeScreenshot" class="headerlink" title="æˆªå›¾ takeScreenshot"></a>æˆªå›¾ takeScreenshot</h3><h4 id="è·å–æ•´é¡µçš„å±å¹•æˆªå›¾-takeScreenshot"><a href="#è·å–æ•´é¡µçš„å±å¹•æˆªå›¾-takeScreenshot" class="headerlink" title="è·å–æ•´é¡µçš„å±å¹•æˆªå›¾ takeScreenshot"></a>è·å–æ•´é¡µçš„å±å¹•æˆªå›¾ takeScreenshot</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.takeScreenshot( [path] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>path</code> <em>(å¯é€‰çš„)</em></td><td>string</td><td>æˆªå›¾æ–‡ä»¶ä¿å­˜çš„ç›¸å¯¹è·¯å¾„å’Œåç§°ï¼Œè¯¥ç›¸å¯¹è·¯å¾„æ˜¯åŸºäºå‘½ä»¤è¡Œåˆ¶å®šçš„åŸºæœ¬ç›®å½•ã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Take a screenshot of a fieldset'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(<span class="string">'#developer-name'</span>, <span class="string">'Peter Parker'</span>)</span><br><span class="line">    .click(<span class="string">'#submit-button'</span>)</span><br><span class="line">    .takeScreenshot(<span class="string">'my-fixture/thank-you-page.png'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="è·å–é¡µé¢å…ƒç´ çš„å±å¹•æˆªå›¾-takeElementScreenshot"><a href="#è·å–é¡µé¢å…ƒç´ çš„å±å¹•æˆªå›¾-takeElementScreenshot" class="headerlink" title="è·å–é¡µé¢å…ƒç´ çš„å±å¹•æˆªå›¾ takeElementScreenshot"></a>è·å–é¡µé¢å…ƒç´ çš„å±å¹•æˆªå›¾ takeElementScreenshot</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.takeScreenshot( [path] )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>selector</code></td><td>Function &vert; string &vert; Selector &vert; Snapshot &vert; Promise</td><td>selector é€‰æ‹©å™¨ï¼Œæœ‰å…³<a href="">é€‰æ‹©ç›®æ ‡å…ƒç´ </a></td></tr><tr><td><code>path</code> <em>(å¯é€‰çš„)</em></td><td>string</td><td>æˆªå›¾æ–‡ä»¶ä¿å­˜çš„ç›¸å¯¹è·¯å¾„å’Œåç§°ï¼Œè¯¥ç›¸å¯¹è·¯å¾„æ˜¯åŸºäºå‘½ä»¤è¡Œåˆ¶å®šçš„åŸºæœ¬ç›®å½•ã€‚</td></tr><tr><td><code>options</code> <em>(å¯é€‰çš„)</em></td><td>Object</td><td>ç”¨äºå®šä¹‰å±å¹•æˆªå›¾æˆªå–æ–¹å¼çš„é€‰é¡¹ã€‚è¯¦æƒ…è§ä¸‹æ–‡ã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Take a screenshot of a fieldset'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(<span class="string">'#reusing-js-code'</span>)</span><br><span class="line">    .click(<span class="string">'#continuous-integration-embedding'</span>)</span><br><span class="line">    .takeElementScreenshot(Selector(<span class="string">'fieldset'</span>).nth(<span class="number">1</span>), <span class="string">'my-fixture/important-features.png'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>options</code> å¯¹è±¡åŒ…å«ä»¥ä¸‹å±æ€§</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>scrollTargetX</code>, <code>scrollTargetY</code></td><td>number</td><td>è¯¥ç‚¹çš„åæ ‡ï¼Œæ˜¯ç›¸å¯¹äºç›®æ ‡å…ƒç´ è®¡ç®—çš„ã€‚</td><td>å…ƒç´ çš„ä¸­å¿ƒã€‚</td></tr><tr><td><code>includeMargins</code></td><td>boolean</td><td>æ˜¯å¦åŒ…å«å¤–è¾¹è· (margin)</td><td><code>false</code></td></tr><tr><td><code>includeBorders</code></td><td>boolean</td><td>æ˜¯å¦åŒ…å«è¾¹æ¡† (border)</td><td><code>true</code></td></tr><tr><td><code>includePaddings</code></td><td>boolean</td><td>æ˜¯å¦åŒ…å«å†…è¾¹è· (padding)</td><td><code>true</code></td></tr><tr><td><code>crop</code></td><td>Object</td><td>æ˜¯å¦å…è®¸è£å‰ªå±å¹•æˆªå›¾ä¸Šçš„ç›®æ ‡å…ƒç´ ã€‚</td><td>è£å‰ªåˆ°æ•´ä¸ªå…ƒç´ ã€‚å¦‚æœå®ƒä¸é€‚åˆçª—å£å¤§å°ï¼Œåˆ™ä¸ºå…¶å¯è§éƒ¨åˆ†ã€‚</td></tr></tbody></table><p><code>crop</code> å¯¹è±¡å…·æœ‰ä»¥ä¸‹å­—æ®µ</p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>top</code></td><td>number</td><td>è£å‰ªçŸ©å½¢çš„ä¸Šè¾¹ç¼˜ã€‚å¦‚æœä¼ é€’è´Ÿæ•°ï¼Œåˆ™ä»å…ƒç´ çš„ä¸‹è¾¹ç¼˜è®¡ç®—åæ ‡ã€‚</td></tr><tr><td><code>left</code></td><td>number</td><td>è£å‰ªçŸ©å½¢çš„å·¦è¾¹ç¼˜ã€‚å¦‚æœä¼ é€’è´Ÿæ•°ï¼Œåˆ™ä»å…ƒç´ çš„å³è¾¹ç¼˜è®¡ç®—åæ ‡ã€‚</td></tr><tr><td><code>bottom</code></td><td>number</td><td>è£å‰ªçŸ©å½¢çš„ä¸‹è¾¹ç¼˜ã€‚å¦‚æœä¼ é€’è´Ÿæ•°ï¼Œåˆ™ä»å…ƒç´ çš„ä¸Šè¾¹ç¼˜è®¡ç®—åæ ‡ã€‚</td></tr><tr><td><code>right</code></td><td>number</td><td>è£å‰ªçŸ©å½¢çš„å³è¾¹ç¼˜ã€‚å¦‚æœä¼ é€’è´Ÿæ•°ï¼Œåˆ™ä»å…ƒç´ çš„å·¦è¾¹ç¼˜è®¡ç®—åæ ‡ã€‚</td></tr></tbody></table><p><img src="//static.mutoe.com/2018/testcafe/screenshot-crop.png" alt="take screenshot"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'Take a screenshot of my new avatar'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .click(<span class="string">'#change-avatar'</span>)</span><br><span class="line">    .setFilesToUpload(<span class="string">'#upload-input'</span>, <span class="string">'img/portrait.jpg'</span>)</span><br><span class="line">    .click(<span class="string">'#submit'</span>)</span><br><span class="line">    .takeElementScreenshot(<span class="string">'#avatar'</span>, &#123;</span><br><span class="line">      includeMargins: <span class="literal">true</span>,</span><br><span class="line">      crop: &#123;</span><br><span class="line">        top: <span class="number">-100</span>,</span><br><span class="line">        left: <span class="number">10</span>,</span><br><span class="line">        bottom: <span class="number">30</span>,</span><br><span class="line">        right: <span class="number">200</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ -setFilesToUpload-no"><a href="#ä¸Šä¼ -setFilesToUpload-no" class="headerlink" title="ä¸Šä¼  setFilesToUpload (no)"></a>ä¸Šä¼  setFilesToUpload (no)</h3><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h3 id="è°ƒæ•´çª—å£å°ºå¯¸-resize-no"><a href="#è°ƒæ•´çª—å£å°ºå¯¸-resize-no" class="headerlink" title="è°ƒæ•´çª—å£å°ºå¯¸ resize (no)"></a>è°ƒæ•´çª—å£å°ºå¯¸ resize (no)</h3><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h3 id="åŠ¨ä½œé€‰é¡¹-options"><a href="#åŠ¨ä½œé€‰é¡¹-options" class="headerlink" title="åŠ¨ä½œé€‰é¡¹ options"></a>åŠ¨ä½œé€‰é¡¹ options</h3><h4 id="åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action"><a href="#åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action" class="headerlink" title="åŸºæœ¬åŠ¨ä½œé€‰é¡¹ basic action"></a>åŸºæœ¬åŠ¨ä½œé€‰é¡¹ basic action</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  speed: <span class="built_in">Number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>speed</code></td><td>number</td><td>åŠ¨ä½œçš„é€Ÿåº¦ï¼Œåœ¨ <code>1</code>(æœ€å¤§é€Ÿåº¦) å’Œ <code>0.01</code>(æœ€å°é€Ÿåº¦) ä¹‹é—´</td><td><code>1</code></td></tr></tbody></table><p>åŸºæœ¬åŠ¨ä½œé€‰é¡¹ç”¨äº <code>t.pressKey</code>ï¼Œ<code>t.selectText</code>ï¼Œ<code>t.selectTextAreaContent</code> å’Œ <code>t.selectEditableContent</code> åŠ¨ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My Test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> nameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(nameInput, <span class="string">'Peter'</span>)</span><br><span class="line">    .typeText(nameInput, <span class="string">' Parker'</span>, &#123; <span class="attr">speed</span>: <span class="number">0.1</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="é¼ æ ‡åŠ¨ä½œé€‰é¡¹-mouse-action"><a href="#é¼ æ ‡åŠ¨ä½œé€‰é¡¹-mouse-action" class="headerlink" title="é¼ æ ‡åŠ¨ä½œé€‰é¡¹ mouse action"></a>é¼ æ ‡åŠ¨ä½œé€‰é¡¹ mouse action</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  modifiers: &#123;</span><br><span class="line">    ctrl: <span class="built_in">Boolean</span>,</span><br><span class="line">    alt: <span class="built_in">Boolean</span>,</span><br><span class="line">    shift: <span class="built_in">Boolean</span>,</span><br><span class="line">    meta: <span class="built_in">Boolean</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  offsetX: <span class="built_in">Number</span>,</span><br><span class="line">  offsetY: <span class="built_in">Number</span>,</span><br><span class="line">  speed: <span class="built_in">Number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>ctrl</code> <code>alt</code> <code>shift</code> <code>meta</code></td><td>boolean</td><td>åœ¨é¼ æ ‡æ“ä½œæœŸé—´è¦æŒ‰ä¸‹çš„ä¿®é¥°é”®</td><td><code>false</code></td></tr><tr><td><code>offsetX</code> <code>offsetY</code></td><td>number</td><td>é¼ æ ‡æŒ‡é’ˆåæ ‡ï¼Œæ­£æ•´æ•°ä»å·¦ä¸Šè§’è®¡ç®—ï¼Œè´Ÿæ•´æ•°ä»å³ä¸‹è§’è®¡ç®—</td><td>ç›®æ ‡å…ƒç´ çš„ä¸­å¿ƒ</td></tr><tr><td><code>speed</code></td><td>number</td><td>åŠ¨ä½œçš„é€Ÿåº¦ï¼Œåœ¨ <code>1</code>(æœ€å¤§é€Ÿåº¦) å’Œ <code>0.01</code>(æœ€å°é€Ÿåº¦) ä¹‹é—´</td><td><code>1</code></td></tr></tbody></table><p>é¼ æ ‡åŠ¨ä½œé€‰é¡¹ç”¨äº <code>t.drag</code> å’Œ <code>t.hover</code> åŠ¨ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My Test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .drag(sliderHandle, <span class="number">360</span>, <span class="number">0</span>, &#123;</span><br><span class="line">      offsetX: <span class="number">10</span>,</span><br><span class="line">      offsetY: <span class="number">10</span>,</span><br><span class="line">      modifiers: &#123;</span><br><span class="line">        shift: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹-dragToElement-action"><a href="#æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹-dragToElement-action" class="headerlink" title="æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹ dragToElement action"></a>æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹ dragToElement action</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  modifiers: &#123;</span><br><span class="line">    ctrl: <span class="built_in">Boolean</span>,</span><br><span class="line">    alt: <span class="built_in">Boolean</span>,</span><br><span class="line">    shift: <span class="built_in">Boolean</span>,</span><br><span class="line">    meta: <span class="built_in">Boolean</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  offsetX: <span class="built_in">Number</span>,</span><br><span class="line">  offsetY: <span class="built_in">Number</span>,</span><br><span class="line">  destinationOffsetX: <span class="built_in">Number</span>,</span><br><span class="line">  destinationOffsetY: <span class="built_in">Number</span>,</span><br><span class="line">  speed: <span class="built_in">Number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>ctrl</code> <code>alt</code> <code>shift</code> <code>meta</code></td><td>boolean</td><td>åœ¨é¼ æ ‡æ“ä½œæœŸé—´è¦æŒ‰ä¸‹çš„ä¿®é¥°é”®</td><td><code>false</code></td></tr><tr><td><code>offsetX</code> <code>offsetY</code></td><td>number</td><td>é¼ æ ‡æŒ‡é’ˆåæ ‡ï¼Œæ­£æ•´æ•°ä»å·¦ä¸Šè§’è®¡ç®—ï¼Œè´Ÿæ•´æ•°ä»å³ä¸‹è§’è®¡ç®—</td><td>ç›®æ ‡å…ƒç´ çš„ä¸­å¿ƒ</td></tr><tr><td><code>destinationOffsetX</code> <code>destinationOffsetY</code></td><td>number</td><td>é¼ æ ‡æ‹–æ‹½å®Œæˆæ—¶çš„æŒ‡é’ˆåæ ‡ï¼Œæ­£æ•´æ•°ä»å·¦ä¸Šè§’è®¡ç®—ï¼Œè´Ÿæ•´æ•°ä»å³ä¸‹è§’è®¡ç®—</td><td>ç›®æ ‡å…ƒç´ çš„ä¸­å¿ƒ</td></tr><tr><td><code>speed</code></td><td>number</td><td>åŠ¨ä½œçš„é€Ÿåº¦ï¼Œåœ¨ <code>1</code>(æœ€å¤§é€Ÿåº¦) å’Œ <code>0.01</code>(æœ€å°é€Ÿåº¦) ä¹‹é—´</td><td><code>1</code></td></tr></tbody></table><p>æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹ç”¨äº <code>t.dragToElement</code> åŠ¨ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My Test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> fileIcon      = Selector(<span class="string">'.file-icon'</span>);</span><br><span class="line">  <span class="keyword">const</span> directoryPane = Selector(<span class="string">'.directory'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .dragToElement(fileIcon, directoryPane, &#123;</span><br><span class="line">      offsetX: <span class="number">10</span>,</span><br><span class="line">      offsetY: <span class="number">10</span>,</span><br><span class="line">      destinationOffsetX: <span class="number">100</span>,</span><br><span class="line">      destinationOffsetY: <span class="number">50</span>,</span><br><span class="line">      modifiers: &#123;</span><br><span class="line">        shift: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ç‚¹å‡»åŠ¨ä½œé€‰é¡¹-click-action"><a href="#ç‚¹å‡»åŠ¨ä½œé€‰é¡¹-click-action" class="headerlink" title="ç‚¹å‡»åŠ¨ä½œé€‰é¡¹ click action"></a>ç‚¹å‡»åŠ¨ä½œé€‰é¡¹ click action</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  modifiers: &#123;</span><br><span class="line">    ctrl: <span class="built_in">Boolean</span>,</span><br><span class="line">    alt: <span class="built_in">Boolean</span>,</span><br><span class="line">    shift: <span class="built_in">Boolean</span>,</span><br><span class="line">    meta: <span class="built_in">Boolean</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  offsetX: <span class="built_in">Number</span>,</span><br><span class="line">  offsetY: <span class="built_in">Number</span>,</span><br><span class="line">  caretPos: <span class="built_in">Number</span>,</span><br><span class="line">  speed: <span class="built_in">Number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>ctrl</code> <code>alt</code> <code>shift</code> <code>meta</code></td><td>boolean</td><td>åœ¨é¼ æ ‡æ“ä½œæœŸé—´è¦æŒ‰ä¸‹çš„ä¿®é¥°é”®</td><td><code>false</code></td></tr><tr><td><code>offsetX</code> <code>offsetY</code></td><td>number</td><td>é¼ æ ‡æŒ‡é’ˆåæ ‡ï¼Œæ­£æ•´æ•°ä»å·¦ä¸Šè§’è®¡ç®—ï¼Œè´Ÿæ•´æ•°ä»å³ä¸‹è§’è®¡ç®—</td><td>ç›®æ ‡å…ƒç´ çš„ä¸­å¿ƒ</td></tr><tr><td><code>caretPos</code></td><td>number</td><td>å¦‚æœåœ¨è¾“å…¥å…ƒç´ ä¸Šæ‰§è¡ŒåŠ¨ä½œï¼Œåˆ™ä¸ºåˆå§‹æ’å…¥ç¬¦å·ä½ç½®ï¼Œä»é›¶å¼€å§‹çš„æ•´æ•°ã€‚</td><td>æ–‡æœ¬é•¿åº¦</td></tr><tr><td><code>speed</code></td><td>number</td><td>åŠ¨ä½œçš„é€Ÿåº¦ï¼Œåœ¨ <code>1</code>(æœ€å¤§é€Ÿåº¦) å’Œ <code>0.01</code>(æœ€å°é€Ÿåº¦) ä¹‹é—´</td><td><code>1</code></td></tr></tbody></table><p>ç‚¹å‡»æ“ä½œé€‰é¡¹ç”¨äº <code>t.click</code>ï¼Œ<code>t.doubleClick</code> å’Œ <code>t.rightClick</code> åŠ¨ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My Test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> nameInput = Selector(<span class="string">'#developer-name'</span>);</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(nameInput, <span class="string">'Pete Parker'</span>)</span><br><span class="line">    .click(nameInput, &#123; <span class="attr">caretPos</span>: <span class="number">4</span> &#125;)</span><br><span class="line">    .pressKey(<span class="string">'r'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="è¾“å…¥åŠ¨ä½œé€‰é¡¹-typing-action"><a href="#è¾“å…¥åŠ¨ä½œé€‰é¡¹-typing-action" class="headerlink" title="è¾“å…¥åŠ¨ä½œé€‰é¡¹ typing action"></a>è¾“å…¥åŠ¨ä½œé€‰é¡¹ typing action</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  modifiers: &#123;</span><br><span class="line">    ctrl: <span class="built_in">Boolean</span>,</span><br><span class="line">    alt: <span class="built_in">Boolean</span>,</span><br><span class="line">    shift: <span class="built_in">Boolean</span>,</span><br><span class="line">    meta: <span class="built_in">Boolean</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  offsetX: <span class="built_in">Number</span>,</span><br><span class="line">  offsetY: <span class="built_in">Number</span>,</span><br><span class="line">  caretPos: <span class="built_in">Number</span>,</span><br><span class="line">  replace: <span class="built_in">Boolean</span>,</span><br><span class="line">  paste: <span class="built_in">Boolean</span>,</span><br><span class="line">  speed: <span class="built_in">Number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>ctrl</code> <code>alt</code> <code>shift</code> <code>meta</code></td><td>boolean</td><td>åœ¨é¼ æ ‡æ“ä½œæœŸé—´è¦æŒ‰ä¸‹çš„ä¿®é¥°é”®</td><td><code>false</code></td></tr><tr><td><code>offsetX</code> <code>offsetY</code></td><td>number</td><td>é¼ æ ‡æŒ‡é’ˆåæ ‡ï¼Œæ­£æ•´æ•°ä»å·¦ä¸Šè§’è®¡ç®—ï¼Œè´Ÿæ•´æ•°ä»å³ä¸‹è§’è®¡ç®—</td><td>ç›®æ ‡å…ƒç´ çš„ä¸­å¿ƒ</td></tr><tr><td><code>caretPos</code></td><td>number</td><td>å¦‚æœåœ¨è¾“å…¥å…ƒç´ ä¸Šæ‰§è¡ŒåŠ¨ä½œï¼Œåˆ™ä¸ºåˆå§‹æ’å…¥ç¬¦å·ä½ç½®ï¼Œä»é›¶å¼€å§‹çš„æ•´æ•°ã€‚</td><td>æ–‡æœ¬é•¿åº¦</td></tr><tr><td><code>replace</code></td><td>boolean</td><td>æ˜¯å¦æ›¿æ¢åŸæœ‰æ–‡æœ¬</td><td><code>false</code></td></tr><tr><td><code>paste</code></td><td>boolean</td><td>æ˜¯å¦ä½¿ç”¨ç²˜è´´çš„æ–¹å¼ä¸€æ¬¡æ€§é”®å…¥æ–‡æœ¬</td><td><code>false</code></td></tr><tr><td><code>speed</code></td><td>number</td><td>åŠ¨ä½œçš„é€Ÿåº¦ï¼Œåœ¨ <code>1</code>(æœ€å¤§é€Ÿåº¦) å’Œ <code>0.01</code>(æœ€å°é€Ÿåº¦) ä¹‹é—´</td><td><code>1</code></td></tr></tbody></table><p>è¾“å…¥åŠ¨ä½œé€‰é¡¹ç”¨äº <code>t.typeText</code> åŠ¨ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My Test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t</span><br><span class="line">    .typeText(nameInput, <span class="string">'Peter'</span>)</span><br><span class="line">    .typeText(nameInput, <span class="string">'Parker'</span>, &#123; <span class="attr">replace</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ–­è¨€-1"><a href="#æ–­è¨€-1" class="headerlink" title="æ–­è¨€"></a>æ–­è¨€</h2><p>ä½ å¯ä»¥ä½¿ç”¨æ–­è¨€æ¥æ£€æŸ¥æµ‹è¯•çš„ç½‘é¡µçŠ¶æ€æ˜¯å¦ä¸é¢„æœŸçŠ¶æ€åŒ¹é…ã€‚<br>TestCafe æä¾›äº†ä¸€ç»„åŸºäºè¡Œä¸ºé©±åŠ¨å¼€å‘é£æ ¼ï¼ˆBDDé£æ ¼ï¼‰çš„æ–­è¨€æ–¹æ³•ã€‚</p><h3 id="æ„é€ æ–­è¨€"><a href="#æ„é€ æ–­è¨€" class="headerlink" title="æ„é€ æ–­è¨€"></a>æ„é€ æ–­è¨€</h3><p>è¦æ„é€ ä¸€ä¸ªæ–­è¨€ï¼Œå¯ä»¥ä½¿ç”¨æµ‹è¯•æ§åˆ¶å™¨ (<code>t</code>) çš„ expect æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual )</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ„é€ æ–¹æ³•æ¥å—ä¸€ä¸ªå®é™…å€¼ï¼Œå¯ä»¥æ˜¯ selector çš„ DOM èŠ‚ç‚¹çŠ¶æ€å±æ€§æˆ–è€…æ˜¯ä¸€ä¸ªä»é¡µé¢ä¸­ä¾¦å¬åˆ°çš„ promise å¯¹è±¡ã€‚ TestCafe ä¼šè‡ªåŠ¨ç­‰å¾…èŠ‚ç‚¹çŠ¶æ€å€¼çš„å˜åŠ¨ã€‚</p><p>æ¥ä¸‹æ¥è·Ÿä¸€ä¸ªæ–­è¨€æ–¹æ³•ï¼Œä»–æ¥å—æœŸæœ›å€¼å’Œä¸€äº›å…¶ä»–çš„å¯é€‰å‚æ•°ã€‚</p><h3 id="æ–­è¨€æ–¹æ³•"><a href="#æ–­è¨€æ–¹æ³•" class="headerlink" title="æ–­è¨€æ–¹æ³•"></a>æ–­è¨€æ–¹æ³•</h3><h4 id="ç­‰äº-eql"><a href="#ç­‰äº-eql" class="headerlink" title="ç­‰äº eql"></a>ç­‰äº eql</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).eql( expected [, message] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>expected</code></td><td>Any</td><td>æœŸæœ›å€¼</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;).eql(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;, <span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šé€šè¿‡'</span>)</span><br><span class="line">  .expect(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;).eql(&#123; <span class="attr">a</span>: <span class="string">'foo'</span> &#125;, <span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šå¤±è´¥ï¼Œå¹¶ä¸”è¿™å¥è¯ä¼šè¢«æ‰“å°å‡ºæ¥'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'.className'</span>).count).eql(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ä¸ç­‰äº-notEql"><a href="#ä¸ç­‰äº-notEql" class="headerlink" title="ä¸ç­‰äº notEql"></a>ä¸ç­‰äº notEql</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).notEql( unexpected [, message] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>unexpected</code></td><td>Any</td><td>ä¸æœŸæœ›çš„å€¼</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;).notEql(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;, <span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šå¤±è´¥ï¼Œå¹¶ä¸”è¿™å¥è¯ä¼šè¢«æ‰“å°å‡ºæ¥'</span>)</span><br><span class="line">  .expect(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;).notEql(&#123; <span class="attr">a</span>: <span class="string">'foo'</span> &#125;, <span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šé€šè¿‡'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'.className'</span>).count).notEql(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="çœŸå€¼-ok"><a href="#çœŸå€¼-ok" class="headerlink" title="çœŸå€¼ ok"></a>çœŸå€¼ ok</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).ok( [ message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(<span class="string">'ok'</span>).ok(<span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šé€šè¿‡'</span>)</span><br><span class="line">  .expect(<span class="literal">false</span>).ok(<span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šå¤±è´¥ï¼Œå¹¶ä¸”è¿™å¥è¯ä¼šè¢«æ‰“å°å‡ºæ¥'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'#element'</span>).exists).ok();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="å‡å€¼-notOk"><a href="#å‡å€¼-notOk" class="headerlink" title="å‡å€¼ notOk"></a>å‡å€¼ notOk</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).notOk( [ message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(<span class="string">'ok'</span>).notOk(<span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šå¤±è´¥ï¼Œå¹¶ä¸”è¿™å¥è¯ä¼šè¢«æ‰“å°å‡ºæ¥'</span>)</span><br><span class="line">  .expect(<span class="literal">false</span>).notOk(<span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šé€šè¿‡'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'#element'</span>).exists).notOk();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="åŒ…å«-contains"><a href="#åŒ…å«-contains" class="headerlink" title="åŒ…å« contains"></a>åŒ…å« contains</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).contains( expected [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>expected</code></td><td>Any</td><td>æœŸæœ›å€¼</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(<span class="string">'foo bar'</span>).contains(<span class="string">'bar'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šå­—ç¬¦ä¸² "foo bar" é‡Œé¢ä¸å«æœ‰æœŸæœ›çš„ "bar" å­ä¸²'</span>)</span><br><span class="line">  .expect([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]).contains(<span class="number">2</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ•°ç»„ä¸­ä¸å«æœ‰æœŸæœ›çš„å€¼'</span>)</span><br><span class="line">  .expect(&#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">hello</span>: <span class="string">'universe'</span> &#125;).contains(&#123; <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šå¯¹è±¡ä¸­ä¸å«æœ‰æœŸæœ›çš„å±æ€§'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> getLocation = ClientFunction(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">document</span>.location.href.toString())</span><br><span class="line">  <span class="keyword">await</span> t.expect(getLocation()).contains(<span class="string">'example.com'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šç½‘å€ä¸åŒ…å«æœŸæœ›çš„å€¼'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ä¸åŒ…å«-notContains"><a href="#ä¸åŒ…å«-notContains" class="headerlink" title="ä¸åŒ…å« notContains"></a>ä¸åŒ…å« notContains</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).notContains( unexpected [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>unexpected</code></td><td>Any</td><td>ä¸æœŸæœ›çš„å€¼</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(<span class="string">'foo bar'</span>).notContains(<span class="string">'bar'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šå­—ç¬¦ä¸²ä¸­å«æœ‰ä¸æœŸæœ›çš„å­ä¸²'</span>)</span><br><span class="line">  .expect([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]).notContains(<span class="number">2</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ•°ç»„ä¸­å«æœ‰ä¸æœŸæœ›çš„å€¼'</span>)</span><br><span class="line">  .expect(&#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">hello</span>: <span class="string">'universe'</span> &#125;).notContains(&#123; <span class="attr">buzz</span>: <span class="string">'abc'</span> &#125;, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šå¯¹è±¡ä¸­å«æœ‰ä¸æœŸæœ›çš„å±æ€§'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> getLocation = ClientFunction(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">document</span>.location.href.toString())</span><br><span class="line">  <span class="keyword">await</span> t.expect(getLocation()).notContains(<span class="string">'example.com'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šç½‘å€åŒ…å«äº†ä¸è¢«æœŸæœ›çš„å€¼'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ç±»å‹ç­‰äº-tyoeOf"><a href="#ç±»å‹ç­‰äº-tyoeOf" class="headerlink" title="ç±»å‹ç­‰äº tyoeOf"></a>ç±»å‹ç­‰äº tyoeOf</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).typeOf( typeName [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>typeName</code></td><td>string</td><td>æœŸæœ›çš„ <code>actual</code> çš„ç±»å‹</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(&#123; <span class="attr">a</span>: <span class="string">'bar'</span> &#125;).typeOf(<span class="string">'object'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ¯”è¾ƒå€¼ä¸æ˜¯å¯¹è±¡'</span>)</span><br><span class="line">  .expect(<span class="regexp">/bar/</span>).typeOf(<span class="string">'regexp'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ¯”è¾ƒå€¼ä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼'</span>)</span><br><span class="line">  .expect(<span class="literal">null</span>).typeOf(<span class="string">'null'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ¯”è¾ƒå€¼ä¸ä¸ºnull'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'#element'</span>).getAttribute(<span class="string">'attr'</span>)).typeOf(<span class="string">'string'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ç±»å‹ä¸ç­‰äº-notTypeOf"><a href="#ç±»å‹ä¸ç­‰äº-notTypeOf" class="headerlink" title="ç±»å‹ä¸ç­‰äº notTypeOf"></a>ç±»å‹ä¸ç­‰äº notTypeOf</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).notTypeOf( typeName [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>typeName</code></td><td>string</td><td>ä¸æœŸæœ›çš„ <code>actual</code> çš„ç±»å‹</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .expect(<span class="string">'bar'</span>).notTypeOf(<span class="string">'number'</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ¯”è¾ƒå€¼ä¸æ˜¯æ•°å­—ç±»å‹'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'#element'</span>).getAttribute(<span class="string">'attr'</span>)).notTypeOf(<span class="string">'null'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="å¤§äº-gt"><a href="#å¤§äº-gt" class="headerlink" title="å¤§äº gt"></a>å¤§äº gt</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).gt( expected [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>Any</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>expected</code></td><td>Any</td><td>æœŸæœ›çš„å€¼</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect(<span class="number">5</span>).gt(<span class="number">2</span>, <span class="string">'ç”¨ä¾‹æœªé€šè¿‡ï¼šæ¯”è¾ƒå€¼åº”è¯¥æ¯” 2 å¤§'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'#element'</span>).clientWidth).gt(<span class="number">300</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="å¤§äºç­‰äº-gte"><a href="#å¤§äºç­‰äº-gte" class="headerlink" title="å¤§äºç­‰äº gte"></a>å¤§äºç­‰äº gte</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).gte( expected [, message ] [, options ])</span><br></pre></td></tr></table></figure><p>ç”¨æ³•åŒ <a href="#å¤§äº-gt"><code>gt</code></a></p><h4 id="å°äº-lt"><a href="#å°äº-lt" class="headerlink" title="å°äº lt"></a>å°äº lt</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).lt( expected [, message ] [, options ])</span><br></pre></td></tr></table></figure><p>ç”¨æ³•åŒ <a href="#å¤§äº-gt"><code>gt</code></a></p><h4 id="å°äºç­‰äº-lte"><a href="#å°äºç­‰äº-lte" class="headerlink" title="å°äºç­‰äº lte"></a>å°äºç­‰äº lte</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).lte( expected [, message ] [, options ])</span><br></pre></td></tr></table></figure><p>ç”¨æ³•åŒ <a href="#å¤§äº-gt"><code>gt</code></a></p><h4 id="åœ¨æŸä¸ªèŒƒå›´-within"><a href="#åœ¨æŸä¸ªèŒƒå›´-within" class="headerlink" title="åœ¨æŸä¸ªèŒƒå›´ within"></a>åœ¨æŸä¸ªèŒƒå›´ within</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).within( start, finish [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>number</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>start</code></td><td>number</td><td>èŒƒå›´ä¸‹é™ï¼ˆåŒ…å«ï¼‰</td></tr><tr><td><code>finish</code></td><td>number</td><td>èŒƒå›´ä¸Šé™ï¼ˆåŒ…å«ï¼‰</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect(<span class="number">5</span>).within(<span class="number">3</span>, <span class="number">10</span>, <span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šé€šè¿‡'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> t.expect(Selector(<span class="string">'#element'</span>).scrollTop).within(<span class="number">300</span>, <span class="number">400</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ä¸åœ¨æŸä¸ªèŒƒå›´-notWithin"><a href="#ä¸åœ¨æŸä¸ªèŒƒå›´-notWithin" class="headerlink" title="ä¸åœ¨æŸä¸ªèŒƒå›´ notWithin"></a>ä¸åœ¨æŸä¸ªèŒƒå›´ notWithin</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).notWithin( start, finish [, message ] [, options ])</span><br></pre></td></tr></table></figure><p>ç”¨æ³•åŒ <a href="#åœ¨æŸä¸ªèŒƒå›´-within"><code>within</code></a></p><h4 id="æ­£åˆ™åŒ¹é…-match"><a href="#æ­£åˆ™åŒ¹é…-match" class="headerlink" title="æ­£åˆ™åŒ¹é… match"></a>æ­£åˆ™åŒ¹é… match</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).match( regexp [, message ] [, options ])</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>actual</code></td><td>string</td><td>æ¯”è¾ƒå€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼ŒTestCafe ä¼šè‡ªåŠ¨ç­‰å¾…å€¼çš„å˜åŒ–</td></tr><tr><td><code>regexp</code></td><td>RegExp</td><td>ç”¨æ¥åŒ¹é… <code>actual</code> çš„æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td><code>message</code> <em>(optional)</em></td><td>string</td><td>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œéœ€è¦åœ¨æµ‹è¯•æŠ¥å‘Šä¸­è¾“å‡ºçš„å­—ç¬¦ä¸²</td></tr><tr><td><code>options</code> <em>(optional)</em></td><td>Object</td><td>å‚è§<a href="#æ–­è¨€é€‰é¡¹">æ–­è¨€é€‰é¡¹</a></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect(<span class="string">'foobar'</span>).match(<span class="regexp">/^f/</span>, <span class="string">'è¿™ä¸ªæ–­è¨€å°†ä¼šé€šè¿‡'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test(<span class="string">'My test'</span>, <span class="keyword">async</span> t =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> getLocation = ClientFunction(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">document</span>.location.href.toString());</span><br><span class="line">  <span class="keyword">await</span> t.expect(getLocation()).match(<span class="regexp">/\.com/</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="éæ­£åˆ™åŒ¹é…-notMatch"><a href="#éæ­£åˆ™åŒ¹é…-notMatch" class="headerlink" title="éæ­£åˆ™åŒ¹é… notMatch"></a>éæ­£åˆ™åŒ¹é… notMatch</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect( actual ).notMatch( regexp [, message ] [, options ])</span><br></pre></td></tr></table></figure><p>ç”¨æ³•åŒ <a href="#æ­£åˆ™åŒ¹é…-match"><code>match</code></a></p><h3 id="æ–­è¨€é€‰é¡¹"><a href="#æ–­è¨€é€‰é¡¹" class="headerlink" title="æ–­è¨€é€‰é¡¹"></a>æ–­è¨€é€‰é¡¹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  timeout: <span class="built_in">Number</span>,</span><br><span class="line">  allowUnawaitedPromise: <span class="built_in">Boolean</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>timeout</code></td><td>number</td><td>å¦‚æœåœ¨æ–­è¨€ä¸­ä½¿ç”¨äº†å±æ€§é€‰æ‹©å™¨æˆ–å®¢æˆ·ç«¯å‡½æ•°ï¼Œå¯ç­‰å¾…çš„æœ€å¤§æ—¶é—´ (å•ä½ï¼šms)</td><td></td></tr><tr><td><code>allowUnawaitedPromise</code></td><td>boolean</td><td>å¦‚æœä½ è¦æ–­è¨€ä¸€ä¸ªå¸¸è§„çš„ promise æ–¹æ³•ï¼Œè¯·å°†è¯¥é€‰é¡¹è®¾ç½®ä¸º <code>true</code></td><td></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect(Selector(<span class="string">'#elementId'</span>).innerText).eql(<span class="string">'text'</span>, <span class="string">'åœ¨ 500ms å†…æ£€æŸ¥å…ƒç´ çš„æ–‡æœ¬'</span>, &#123; <span class="attr">timeout</span>: <span class="number">500</span> &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t.expect(doSomethingAsync()).ok(<span class="string">'æ£€æŸ¥å¼‚æ­¥å‡½æ•°æ˜¯å¦å«å›äº† promise å¯¹è±¡'</span>, &#123; <span class="attr">allowUnawaitedPromise</span>: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure><h2 id="å®¢æˆ·ç«¯æ–¹æ³•-no"><a href="#å®¢æˆ·ç«¯æ–¹æ³•-no" class="headerlink" title="å®¢æˆ·ç«¯æ–¹æ³• (no)"></a>å®¢æˆ·ç«¯æ–¹æ³• (no)</h2><blockquote><p>æš‚æœªæ›´æ–°</p></blockquote><h2 id="ç­‰å¾…"><a href="#ç­‰å¾…" class="headerlink" title="ç­‰å¾…"></a>ç­‰å¾…</h2><p>æ— è®ºå‡ºäºä»€ä¹ˆåŸå› ï¼Œè®©æµ‹è¯•æš‚åœä¸€å°ä¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t.wait( timeout )</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>timeout</code></td><td>number</td><td>æš‚åœçš„æŒç»­æ—¶é—´ï¼Œå•ä½ ms</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> t</span><br><span class="line">  .click(<span class="string">'#play-1-sec-animation'</span>)</span><br><span class="line">  .wait(<span class="number">1000</span>)</span><br><span class="line">  .expect(header.getStyleProperty(<span class="string">'opacity'</span>)).eql(<span class="number">0</span>);</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-tags"><a href="/tags/nodejs/" rel="tag"># nodejs</a> <a href="/tags/test/" rel="tag"># test</a> <a href="/tags/testcafe/" rel="tag"># testcafe</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2018/vue-koa-setup-app-framework/" rel="prev" title="ä½¿ç”¨ Vue + Koa æ‰“é€ å…¨æ ˆåº”ç”¨ã€Šæ—¶å…‰Â·å°è±¡ã€‹å›¾ç‰‡åˆ†äº«åº”ç”¨ -- é¡¹ç›®æ¡†æ¶æ­å»ºç¯‡"><i class="fa fa-chevron-left"></i> ä½¿ç”¨ Vue + Koa æ‰“é€ å…¨æ ˆåº”ç”¨ã€Šæ—¶å…‰Â·å°è±¡ã€‹å›¾ç‰‡åˆ†äº«åº”ç”¨ -- é¡¹ç›®æ¡†æ¶æ­å»ºç¯‡</a></div><div class="post-nav-item"><a href="/2019/compare-filter-vs-splice-in-javascript/" rel="next" title="æ¯”è¾ƒ javascript ä¸­ filter å’Œ splice åˆ é™¤æ•°ç»„çš„æ€§èƒ½">æ¯”è¾ƒ javascript ä¸­ filter å’Œ splice åˆ é™¤æ•°ç»„çš„æ€§èƒ½ <i class="fa fa-chevron-right"></i></a></div></div></footer><script src="https://utteranc.es/client.js" repo="mutoe/blog" issue-term="title" label="comment" theme="github-light" crossorigin="anonymous" async></script></article></div></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview">ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ç®€ä»‹"><span class="nav-text">ç®€ä»‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å®‰è£…"><span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å°è¯•ç‰›åˆ€"><span class="nav-text">å°è¯•ç‰›åˆ€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®"><span class="nav-text">åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬"><span class="nav-text">ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¿è¡Œæµ‹è¯•è„šæœ¬"><span class="nav-text">è¿è¡Œæµ‹è¯•è„šæœ¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¼–å†™æµ‹è¯•ä»£ç "><span class="nav-text">ç¼–å†™æµ‹è¯•ä»£ç </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œ"><span class="nav-text">åœ¨é¡µé¢ä¸Šæ‰§è¡Œæ“ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è§‚å¯Ÿé¡µé¢çš„å˜åŒ–"><span class="nav-text">è§‚å¯Ÿé¡µé¢çš„å˜åŒ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–­è¨€"><span class="nav-text">æ–­è¨€</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å°ç»“"><span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#API-æ–‡æ¡£-unfinished"><span class="nav-text">API æ–‡æ¡£ (unfinished)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æµ‹è¯•ä»£ç ç»“æ„"><span class="nav-text">æµ‹è¯•ä»£ç ç»“æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æµ‹è¯•ç»„-Fixtures"><span class="nav-text">æµ‹è¯•ç»„ Fixtures</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æµ‹è¯•ç”¨ä¾‹-Tests"><span class="nav-text">æµ‹è¯•ç”¨ä¾‹ Tests</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æµ‹è¯•æ§åˆ¶å™¨-Test-Controller"><span class="nav-text">æµ‹è¯•æ§åˆ¶å™¨ Test Controller</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŒ‡å®šèµ·å§‹é¡µé¢"><span class="nav-text">æŒ‡å®šèµ·å§‹é¡µé¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æµ‹è¯•å…ƒæ•°æ®"><span class="nav-text">æµ‹è¯•å…ƒæ•°æ®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é’©å­"><span class="nav-text">é’©å­</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æµ‹è¯•ç»„é’©å­"><span class="nav-text">æµ‹è¯•ç»„é’©å­</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æµ‹è¯•ç”¨ä¾‹é’©å­"><span class="nav-text">æµ‹è¯•ç”¨ä¾‹é’©å­</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´å…±äº«å˜é‡"><span class="nav-text">åœ¨é’©å­å’Œæµ‹è¯•ä»£ç ä¹‹é—´å…±äº«å˜é‡</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è·³è¿‡æµ‹è¯•"><span class="nav-text">è·³è¿‡æµ‹è¯•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é¡µé¢å…ƒç´ é€‰æ‹©"><span class="nav-text">é¡µé¢å…ƒç´ é€‰æ‹©</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é€‰æ‹©å™¨-selector"><span class="nav-text">é€‰æ‹©å™¨ selector</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›å»ºé€‰æ‹©å™¨"><span class="nav-text">åˆ›å»ºé€‰æ‹©å™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨é€‰æ‹©å™¨"><span class="nav-text">ä½¿ç”¨é€‰æ‹©å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨"><span class="nav-text">æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#è·å–å…ƒç´ çš„çŠ¶æ€"><span class="nav-text">è·å–å…ƒç´ çš„çŠ¶æ€</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#DOM-èŠ‚ç‚¹å¿«ç…§"><span class="nav-text">DOM èŠ‚ç‚¹å¿«ç…§</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#å®šä¹‰åŠ¨ä½œçš„ç›®æ ‡"><span class="nav-text">å®šä¹‰åŠ¨ä½œçš„ç›®æ ‡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#å®šä¹‰æ–­è¨€çš„ç›®æ ‡"><span class="nav-text">å®šä¹‰æ–­è¨€çš„ç›®æ ‡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#é€‰æ‹©å™¨è¶…æ—¶"><span class="nav-text">é€‰æ‹©å™¨è¶…æ—¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#è°ƒè¯•é€‰æ‹©å™¨"><span class="nav-text">è°ƒè¯•é€‰æ‹©å™¨</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é€‰æ‹©å™¨çš„æ–¹æ³•"><span class="nav-text">é€‰æ‹©å™¨çš„æ–¹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#è¿‡æ»¤-DOM-èŠ‚ç‚¹"><span class="nav-text">è¿‡æ»¤ DOM èŠ‚ç‚¹</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#æ ¹æ®ç´¢å¼•-nth"><span class="nav-text">æ ¹æ®ç´¢å¼• (nth)</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ ¹æ®æ–‡æœ¬-withText-withExactText"><span class="nav-text">æ ¹æ®æ–‡æœ¬ (withText &#x2F; withExactText)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ ¹æ®å±æ€§-withAttribute"><span class="nav-text">æ ¹æ®å±æ€§ (withAttribute)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ ¹æ®å¯è§æ€§-filterVisible-filterHidden"><span class="nav-text">æ ¹æ®å¯è§æ€§ (filterVisible &#x2F; filterHidden)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ ¹æ®è¿‡æ»¤å™¨-filter"><span class="nav-text">æ ¹æ®è¿‡æ»¤å™¨ (filter)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ ¹æ®å…³ç³»-find-parent-child-sibling"><span class="nav-text">æ ¹æ®å…³ç³» (find &#x2F; parent &#x2F; child &#x2F; sibling)</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é€‰æ‹©å™¨é€‰é¡¹-no"><span class="nav-text">é€‰æ‹©å™¨é€‰é¡¹ (no)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é€‰æ‹©å™¨æ‹“å±•-no"><span class="nav-text">é€‰æ‹©å™¨æ‹“å±• (no)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è¾¹ç¼˜æƒ…å†µ-no"><span class="nav-text">è¾¹ç¼˜æƒ…å†µ (no)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM-èŠ‚ç‚¹çŠ¶æ€"><span class="nav-text">DOM èŠ‚ç‚¹çŠ¶æ€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç‰¹å®šæ¡†æ¶çš„é€‰æ‹©å™¨-no"><span class="nav-text">ç‰¹å®šæ¡†æ¶çš„é€‰æ‹©å™¨ (no)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸€äº›ä¾‹å­-no"><span class="nav-text">ä¸€äº›ä¾‹å­ (no)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŠ¨ä½œ"><span class="nav-text">åŠ¨ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å•å‡»-click"><span class="nav-text">å•å‡» click</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åŒå‡»-doubleClick"><span class="nav-text">åŒå‡» doubleClick</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å³å‡»-rightClick"><span class="nav-text">å³å‡» rightClick</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‹–æ‹½-drag"><span class="nav-text">æ‹–æ‹½ drag</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æ‹–æ‹½ä¸€å®šè·ç¦»-drag"><span class="nav-text">æ‹–æ‹½ä¸€å®šè·ç¦» drag</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ‹–æ‹½åˆ°å¦ä¸€ä¸ªå…ƒç´ ä¸Š-dragToElement"><span class="nav-text">æ‹–æ‹½åˆ°å¦ä¸€ä¸ªå…ƒç´ ä¸Š dragToElement</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‚¬åœ-hover"><span class="nav-text">æ‚¬åœ hover</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é€‰æ‹©æ–‡æœ¬-selectText"><span class="nav-text">é€‰æ‹©æ–‡æœ¬ selectText</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨-input-å…ƒç´ ä¸­"><span class="nav-text">åœ¨ input å…ƒç´ ä¸­</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨-textarea-å…ƒç´ ä¸­"><span class="nav-text">åœ¨ textarea å…ƒç´ ä¸­</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨-contentEditable-å…ƒç´ ä¸­"><span class="nav-text">åœ¨ contentEditable å…ƒç´ ä¸­</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é”®å…¥æ–‡æœ¬-typeText"><span class="nav-text">é”®å…¥æ–‡æœ¬ typeText</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŒ‰é”®-pressKey"><span class="nav-text">æŒ‰é”® pressKey</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¡µé¢è·³è½¬-navigateTo"><span class="nav-text">é¡µé¢è·³è½¬ navigateTo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æˆªå›¾-takeScreenshot"><span class="nav-text">æˆªå›¾ takeScreenshot</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#è·å–æ•´é¡µçš„å±å¹•æˆªå›¾-takeScreenshot"><span class="nav-text">è·å–æ•´é¡µçš„å±å¹•æˆªå›¾ takeScreenshot</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è·å–é¡µé¢å…ƒç´ çš„å±å¹•æˆªå›¾-takeElementScreenshot"><span class="nav-text">è·å–é¡µé¢å…ƒç´ çš„å±å¹•æˆªå›¾ takeElementScreenshot</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸Šä¼ -setFilesToUpload-no"><span class="nav-text">ä¸Šä¼  setFilesToUpload (no)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è°ƒæ•´çª—å£å°ºå¯¸-resize-no"><span class="nav-text">è°ƒæ•´çª—å£å°ºå¯¸ resize (no)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åŠ¨ä½œé€‰é¡¹-options"><span class="nav-text">åŠ¨ä½œé€‰é¡¹ options</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åŸºæœ¬åŠ¨ä½œé€‰é¡¹-basic-action"><span class="nav-text">åŸºæœ¬åŠ¨ä½œé€‰é¡¹ basic action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é¼ æ ‡åŠ¨ä½œé€‰é¡¹-mouse-action"><span class="nav-text">é¼ æ ‡åŠ¨ä½œé€‰é¡¹ mouse action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹-dragToElement-action"><span class="nav-text">æ‹–æ‹½åˆ°å…ƒç´ åŠ¨ä½œé€‰é¡¹ dragToElement action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç‚¹å‡»åŠ¨ä½œé€‰é¡¹-click-action"><span class="nav-text">ç‚¹å‡»åŠ¨ä½œé€‰é¡¹ click action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è¾“å…¥åŠ¨ä½œé€‰é¡¹-typing-action"><span class="nav-text">è¾“å…¥åŠ¨ä½œé€‰é¡¹ typing action</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ–­è¨€-1"><span class="nav-text">æ–­è¨€</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ„é€ æ–­è¨€"><span class="nav-text">æ„é€ æ–­è¨€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–­è¨€æ–¹æ³•"><span class="nav-text">æ–­è¨€æ–¹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç­‰äº-eql"><span class="nav-text">ç­‰äº eql</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸ç­‰äº-notEql"><span class="nav-text">ä¸ç­‰äº notEql</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#çœŸå€¼-ok"><span class="nav-text">çœŸå€¼ ok</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å‡å€¼-notOk"><span class="nav-text">å‡å€¼ notOk</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŒ…å«-contains"><span class="nav-text">åŒ…å« contains</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸åŒ…å«-notContains"><span class="nav-text">ä¸åŒ…å« notContains</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç±»å‹ç­‰äº-tyoeOf"><span class="nav-text">ç±»å‹ç­‰äº tyoeOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç±»å‹ä¸ç­‰äº-notTypeOf"><span class="nav-text">ç±»å‹ä¸ç­‰äº notTypeOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å¤§äº-gt"><span class="nav-text">å¤§äº gt</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å¤§äºç­‰äº-gte"><span class="nav-text">å¤§äºç­‰äº gte</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°äº-lt"><span class="nav-text">å°äº lt</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°äºç­‰äº-lte"><span class="nav-text">å°äºç­‰äº lte</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åœ¨æŸä¸ªèŒƒå›´-within"><span class="nav-text">åœ¨æŸä¸ªèŒƒå›´ within</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸åœ¨æŸä¸ªèŒƒå›´-notWithin"><span class="nav-text">ä¸åœ¨æŸä¸ªèŒƒå›´ notWithin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ­£åˆ™åŒ¹é…-match"><span class="nav-text">æ­£åˆ™åŒ¹é… match</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#éæ­£åˆ™åŒ¹é…-notMatch"><span class="nav-text">éæ­£åˆ™åŒ¹é… notMatch</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–­è¨€é€‰é¡¹"><span class="nav-text">æ–­è¨€é€‰é¡¹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å®¢æˆ·ç«¯æ–¹æ³•-no"><span class="nav-text">å®¢æˆ·ç«¯æ–¹æ³• (no)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç­‰å¾…"><span class="nav-text">ç­‰å¾…</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="mutoe" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">mutoe</p><div class="site-description" itemprop="description">æœ¨å¤´ å‰ç«¯å­¦å¾’ æœ‰æ¢¦æƒ³çš„FED</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">39</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">42</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/mutoe/" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;mutoe&#x2F;" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:mutoe@foxmail.com" title="E-Mail â†’ mailto:mutoe@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2015 â€“ <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">mutoe</span></div><div class="external-link"><a href="/sponsor">æ‹¥æŠ±å¼€æº</a> <a href="/quick">å­¦ä¹ èµ„æ–™å¯¼èˆª</a> <a href="/npm">å¸¸ç”¨ npm åŒ…</a></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="æ€»è®¿å®¢é‡"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="æ€»è®¿é—®é‡"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script>(function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();</script></body></html>