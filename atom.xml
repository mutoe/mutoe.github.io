<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>木头的博客</title>
  
  <subtitle>我是木头 有些想法 有点精力</subtitle>
  <link href="https://blog.mutoe.com/atom.xml" rel="self"/>
  
  <link href="https://blog.mutoe.com/"/>
  <updated>2021-04-11T08:12:26.000Z</updated>
  <id>https://blog.mutoe.com/</id>
  
  <author>
    <name>mutoe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>家庭网络折腾记</title>
    <link href="https://blog.mutoe.com/2021/home-network-infra-notes/"/>
    <id>https://blog.mutoe.com/2021/home-network-infra-notes/</id>
    <published>2021-04-11T08:12:26.000Z</published>
    <updated>2021-04-11T08:12:26.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;最近把家里的网络折腾了一下，整体用下来感觉还不错，这里记录下来分享给大家，大家一起学习交流~&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://static.mutoe.com/2021/home-network-infra-notes/infra.png&quot; alt=&quot;Infrastructure&quot;&gt;&lt;/p&gt;
&lt;p&gt;痛点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;科学上网。现在家里的网络总是觉得有些不尽人意，本人最大的爱好就是周末宅在家里搞搞开源、打打游戏。遇到问题了 Google / StackOverflow 效率是比 Baidu 高，而每个设备自己科学上网比较繁琐，需要各自管理白名单，太麻烦…&lt;/li&gt;
&lt;li&gt;NAS 访问慢。和爱人出去玩偶尔会拍一些照片和 Vlog，这些都是美好珍贵的记忆，目前存在自己的私有云上，想看了拿出来看看，照片列表加载缓慢，视频进度拖拉卡顿…&lt;/li&gt;
&lt;li&gt;WIFI 信号。之前路由器是放在客厅，信号到卧室床头比较曲折，有时关门后甚至断网，网络体验极差…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;折腾后：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;全屋设备科学上网。在软路由里根据 IP 地址分流，国外 IP 走代理，国内直连。终端无需单独开软件，无需在意是否国内外网站。&lt;/li&gt;
&lt;li&gt;广告过滤。同上。&lt;/li&gt;
&lt;li&gt;内网全千兆访问。访问 NAS 资源、各设备之间文件互传速度大幅提升，堪比本地访问。&lt;/li&gt;
&lt;li&gt;Docker。开发时如果需要容器资源，内外网都可使用路由器的 Docker，节约开发机资源，目前资源是 4C8G。&lt;/li&gt;
&lt;li&gt;数据安全。之前 NAS 是直接暴露在公网的，且没有开启 HTTP，现在公网访问内网设备需要 VPN，访问 NAS 强制 HTTPS。&lt;/li&gt;
&lt;li&gt;扩大 WIFI 信号覆盖。未来搬去新家后智能设备增多，WIFI6 是必不可少的。出于成本考虑，WIFI6 AP 放在客厅，现有垃圾 AP 放在卧室。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;硬件改造成本共 1135 元&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;软路由： J4105，8G DDR4 + 64G SATA固态 咸鱼 750 元&lt;/li&gt;
&lt;li&gt;交换机： 水星SG108C 塑料8口 JD 69元&lt;/li&gt;
&lt;li&gt;AP： 华为AX3Pro 咸鱼 295 元&lt;/li&gt;
&lt;li&gt;网线： 绿联6类线 0.5m x3 JD 21元&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;哭，现在设备各种涨价， ax3pro 暴涨 150 元，蹲了二周才蹲到低于 300 元的 AP，J4105 也涨了 100 多，不知道是不是受了这一波矿潮影响…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;总之，想把网络环境做好，最大的变化就是没有变化，让用户感觉不到就成功了，只需要默默地提供稳定的服务就好~&lt;/p&gt;</summary>
    
    
    
    <category term="心得" scheme="https://blog.mutoe.com/categories/%E5%BF%83%E5%BE%97/"/>
    
    
    <category term="Docker" scheme="https://blog.mutoe.com/tags/Docker/"/>
    
    <category term="OpenWrt" scheme="https://blog.mutoe.com/tags/OpenWrt/"/>
    
  </entry>
  
  <entry>
    <title>React Vite 迁移指南</title>
    <link href="https://blog.mutoe.com/2021/react-vite-migration/"/>
    <id>https://blog.mutoe.com/2021/react-vite-migration/</id>
    <published>2021-03-06T14:12:53.000Z</published>
    <updated>2021-03-06T14:12:53.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;Vite2 发布有一段时间了，其内部使用了 ESBuild 进行打包，ESBuild 有着相对 Webpack 惊人的打包速度。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://static.mutoe.com/2021/react-vite-migration/esbuild-benchmark.svg&quot; alt=&quot;esbuild benchmark&quot;&gt;
&lt;em&gt;&lt;a href=&quot;https://github.com/evanw/esbuild#why&quot;&gt;数据来自 github.com/evanw/esbuild&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;React 用户表示令人羡慕，不过 Vite 野心比较大，不止可以用来开发 Vue 项目，类似 Rollup，Vite2 可以使用插件来支持 React 项目。&lt;/p&gt;
&lt;p&gt;这就巧了，手上刚好有一个 React 练习项目，使用 Create React App 创建并且进行过 Eject。接下来我们就用这个 React 项目来练练手吧，享受一下飞一般的构建速度！&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="React" scheme="https://blog.mutoe.com/tags/React/"/>
    
    <category term="Vite" scheme="https://blog.mutoe.com/tags/Vite/"/>
    
  </entry>
  
  <entry>
    <title>Bash Shell 学习笔记</title>
    <link href="https://blog.mutoe.com/2020/bash-shell-study-notes/"/>
    <id>https://blog.mutoe.com/2020/bash-shell-study-notes/</id>
    <published>2020-06-16T15:44:01.000Z</published>
    <updated>2020-06-16T15:44:01.000Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;h1 id=&quot;变量&quot;&gt;&lt;a href=&quot;#变量&quot; class=&quot;headerlink&quot; title=&quot;变量&quot;&gt;&lt;/a&gt;变量&lt;/h1&gt;&lt;h2 id=&quot;字符串&quot;&gt;&lt;a href=&quot;#字符串&quot; class=&quot;headerlink&quot; title=&quot;字符串&quot;&gt;&lt;/a&gt;字符串&lt;/h2&gt;&lt;p</summary>
        
      
    
    
    
    <category term="笔记" scheme="https://blog.mutoe.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Linux" scheme="https://blog.mutoe.com/tags/Linux/"/>
    
    <category term="Bash" scheme="https://blog.mutoe.com/tags/Bash/"/>
    
    <category term="Shell Script" scheme="https://blog.mutoe.com/tags/Shell-Script/"/>
    
  </entry>
  
  <entry>
    <title>手把手带你实践 TDD Nestjs Realworld 项目 - 6. 编写 API 集成测试</title>
    <link href="https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-6/"/>
    <id>https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-6/</id>
    <published>2020-05-04T04:16:42.000Z</published>
    <updated>2020-05-04T04:16:42.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;第二章我们简单的介绍了下如何连接测试数据库，这篇我们将结合 TDD 来完整的实现注册和登录功能。（如果接下来我写的内容你已经做过，可以跳过该步）&lt;/p&gt;
&lt;h1 id=&quot;1-编写第一个集成测试&quot;&gt;&lt;a href=&quot;#1-编写第一个集成测试&quot; class=&quot;headerlink&quot; title=&quot;1. 编写第一个集成测试&quot;&gt;&lt;/a&gt;1. 编写第一个集成测试&lt;/h1&gt;&lt;p&gt;按照 Nest 提供的示例 E2E 测试， 位于 &lt;code&gt;test/app.e2e-spec.ts&lt;/code&gt; 应该长这样&lt;/p&gt;
&lt;figure class=&quot;highlight ts&quot;&gt;&lt;figcaption&gt;&lt;span&gt;test/app.e2e-spec.ts&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Test, TestingModule &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/testing&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; request &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;supertest&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AppModule &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;./../src/app.module&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;describe(&lt;span class=&quot;string&quot;&gt;&amp;#x27;AppController (e2e)&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; app&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  beforeEach(&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; moduleFixture: TestingModule = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; Test.createTestingModule(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      imports: [AppModule],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;).compile()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    app = moduleFixture.createNestApplication()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; app.init()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  it(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/ (GET)&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; request(app.getHttpServer())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .get(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .expect(&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .expect(&lt;span class=&quot;string&quot;&gt;&amp;#x27;Hello World!&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;现在是运行不了的，不过没关系，我们稍稍改造一下&lt;/p&gt;
&lt;p&gt;首先我们测试一个用于检查健康的接口 &lt;code&gt;/hello&lt;/code&gt;, 无需导入整个 &lt;code&gt;AppModule&lt;/code&gt;, 只需导入 &lt;code&gt;AppController&lt;/code&gt; ，改造为下列的样子&lt;/p&gt;
&lt;figure class=&quot;highlight ts&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app.e2e-spec.ts&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Test, TestingModule &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/testing&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AppController &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;app.controller&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; request &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;supertest&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;describe(&lt;span class=&quot;string&quot;&gt;&amp;#x27;app module&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; app&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  beforeAll(&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; moduleFixture: TestingModule = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; Test.createTestingModule(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      controllers: [AppController],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;).compile()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    app = moduleFixture.createNestApplication()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; app.init()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  afterAll(&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; app.close()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  it(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/hello (GET)&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; request(app.getHttpServer())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .get(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/hello?name=world&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .expect(&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .expect(&lt;span class=&quot;string&quot;&gt;&amp;#x27;Hello world!&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;然后执行&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yarn &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;:e2e&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;https://static.mutoe.com/2020/TDD-nestjs-realworld-example-app/yarn-e2e-test.png&quot; alt=&quot;yarn e2e test&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Test" scheme="https://blog.mutoe.com/tags/Test/"/>
    
    <category term="Nestjs" scheme="https://blog.mutoe.com/tags/Nestjs/"/>
    
    <category term="TypeScript" scheme="https://blog.mutoe.com/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>手把手带你实践 TDD Nestjs Realworld 项目 - 5. Swagger 自动生成接口文档</title>
    <link href="https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-5/"/>
    <id>https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-5/</id>
    <published>2020-05-03T09:09:52.000Z</published>
    <updated>2020-05-03T09:09:52.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;这一节， 我们引入 Swagger 来自动根据代码里的注脚来生成接口文档。&lt;/p&gt;
&lt;p&gt;Nest 为我们提供了一个专用的模块来搭配 Swagger 来使用&lt;/p&gt;
&lt;h1 id=&quot;1-安装依赖&quot;&gt;&lt;a href=&quot;#1-安装依赖&quot; class=&quot;headerlink&quot; title=&quot;1. 安装依赖&quot;&gt;&lt;/a&gt;1. 安装依赖&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yarn add @nestjs/swagger swagger-ui-express&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;2-初始化-Swagger-模块&quot;&gt;&lt;a href=&quot;#2-初始化-Swagger-模块&quot; class=&quot;headerlink&quot; title=&quot;2. 初始化 Swagger 模块&quot;&gt;&lt;/a&gt;2. 初始化 Swagger 模块&lt;/h1&gt;&lt;p&gt;在我们的应用入口文件 &lt;code&gt;main.ts&lt;/code&gt; 中添加一个 &lt;code&gt;createSwagger&lt;/code&gt; 方法， 并在 &lt;code&gt;bootstrap&lt;/code&gt; 方法中初始化它&lt;/p&gt;
&lt;figure class=&quot;highlight ts&quot;&gt;&lt;figcaption&gt;&lt;span&gt;main.ts&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; INestApplication, ValidationPipe &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/common&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; NestFactory &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/core&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; DocumentBuilder, SwaggerModule &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/swagger&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AppModule &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;app.module&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;createSwagger&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;app: INestApplication&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; version = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;../package.json&amp;#x27;&lt;/span&gt;).version || &lt;span class=&quot;string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; options = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DocumentBuilder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .setTitle(&lt;span class=&quot;string&quot;&gt;&amp;#x27;Nestjs Realworld Example App&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .setVersion(version)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .addBearerAuth()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .build()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt; = SwaggerModule.createDocument(app, options)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  SwaggerModule.setup(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/docs&amp;#x27;&lt;/span&gt;, app, &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bootstrap&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; app = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; NestFactory.create(AppModule)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  app.useGlobalPipes(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ValidationPipe())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (process.env.SWAGGER_ENABLE &amp;amp;&amp;amp; process.env.SWAGGER_ENABLE === &lt;span class=&quot;string&quot;&gt;&amp;#x27;true&amp;#x27;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    createSwagger(app)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; app.listen(&lt;span class=&quot;number&quot;&gt;3000&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bootstrap().catch(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;err&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.error(err))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;在 &lt;code&gt;createSwagger&lt;/code&gt; 中， 我们首先读取了来自 &lt;code&gt;package.json&lt;/code&gt; 中的版本号来作为接口的版本&lt;/p&gt;
&lt;p&gt;然后我们设置了 Title 和 Bearer 鉴权认证入口， 我们还设置了 &lt;code&gt;/docs&lt;/code&gt; 为我们文档的入口&lt;/p&gt;
&lt;p&gt;最后，我们判断环境变量中的 &lt;code&gt;SWAGGER_ENABLE&lt;/code&gt; 是否打开， 如果打开我们就初始化 Swagger 文档系统。&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;.env&lt;/code&gt; 和 &lt;code&gt;.env.template&lt;/code&gt; 中增加 &lt;code&gt;SWAGGER_ENABLE=true&lt;/code&gt;, 然后启动服务器&lt;/p&gt;
&lt;p&gt;访问 &lt;code&gt;http://localhost:3000/docs&lt;/code&gt; 就能看见我们的接口文档创建好啦！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://static.mutoe.com/2020/TDD-nestjs-realworld-example-app/swagger-preview.png&quot; alt=&quot;swagger preview&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Nestjs" scheme="https://blog.mutoe.com/tags/Nestjs/"/>
    
    <category term="TypeScript" scheme="https://blog.mutoe.com/tags/TypeScript/"/>
    
    <category term="Swagger" scheme="https://blog.mutoe.com/tags/Swagger/"/>
    
  </entry>
  
  <entry>
    <title>Flutter 学习笔记</title>
    <link href="https://blog.mutoe.com/2020/flutter-study-notes/"/>
    <id>https://blog.mutoe.com/2020/flutter-study-notes/</id>
    <published>2020-01-21T11:17:19.000Z</published>
    <updated>2020-01-26T14:28:54.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;这里记录了一些个人学习 Flutter 时遇到的一些问题, 可以作为避免踩坑和速查手册. 如有疑问欢迎留言.&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.mutoe.com/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Flutter" scheme="https://blog.mutoe.com/tags/Flutter/"/>
    
    <category term="Dart" scheme="https://blog.mutoe.com/tags/Dart/"/>
    
  </entry>
  
  <entry>
    <title>手把手带你实践 TDD Nestjs Realworld 项目 - 4. 输入校验和转化</title>
    <link href="https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-4/"/>
    <id>https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-4/</id>
    <published>2020-01-08T12:36:22.000Z</published>
    <updated>2020-01-08T12:36:22.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;上一章中, 我们完成了鉴权功能, 也就是 Auth 模块, 顺便简单实现了下注册和登录功能. 这一章我们就来正式的将登录和实现功能做完, 含有完整的数据校验和转化.&lt;/p&gt;
&lt;p&gt;在正式的开始完善功能之前, 我们现清理重构一下已有的代码.&lt;/p&gt;
&lt;h1 id=&quot;1-重构代码&quot;&gt;&lt;a href=&quot;#1-重构代码&quot; class=&quot;headerlink&quot; title=&quot;1. 重构代码&quot;&gt;&lt;/a&gt;1. 重构代码&lt;/h1&gt;&lt;h2 id=&quot;1-1-整理路由&quot;&gt;&lt;a href=&quot;#1-1-整理路由&quot; class=&quot;headerlink&quot; title=&quot;1.1 整理路由&quot;&gt;&lt;/a&gt;1.1 整理路由&lt;/h2&gt;&lt;p&gt;我们上一张的登录和注册是写在 &lt;code&gt;app.controller.ts&lt;/code&gt; 中的, 如果所有的路由都写在这里的话就会比较杂乱, 所以我们将它移动到 Auth 模块下.&lt;/p&gt;
&lt;p&gt;首先生成 AuthController&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;nest g controller auth&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;然后将 &lt;code&gt;/auth/register&lt;/code&gt; 和 &lt;code&gt;/auth/login&lt;/code&gt; 移到 AuthController 下&lt;/p&gt;
&lt;figure class=&quot;highlight ts&quot;&gt;&lt;figcaption&gt;&lt;span&gt;auth.controller.ts&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Body, Controller, Post, Request, UseGuards &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/common&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AuthGuard &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/passport&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; UserService &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;../user/user.service&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AuthService &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;./auth.service&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Controller&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;auth&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AuthController&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;title&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;params&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt; userService: UserService,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;params&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt; authService: AuthService,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;params&quot;&gt;  &lt;/span&gt;) &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Post&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/register&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; register(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Body&lt;/span&gt;() requestBody: &amp;#123; &lt;span class=&quot;attr&quot;&gt;email&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;; username: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;; password: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; user = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;this&lt;/span&gt;.userService.createUser(requestBody)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; token = &lt;span class=&quot;built_in&quot;&gt;this&lt;/span&gt;.authService.generateToken(user.id, user.username)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      user: &amp;#123; ...user, token &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@UseGuards&lt;/span&gt;(AuthGuard(&lt;span class=&quot;string&quot;&gt;&amp;#x27;local&amp;#x27;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Post&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;/login&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;login&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Request&lt;/span&gt;() req&lt;/span&gt;)&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &amp;#123; user &amp;#125; = req&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; token = &lt;span class=&quot;built_in&quot;&gt;this&lt;/span&gt;.authService.generateToken(user.id, user.username)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      user: &amp;#123; ...user, token &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;顺便也移动下测试代码, 这里就不再赘述了.&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Nestjs" scheme="https://blog.mutoe.com/tags/Nestjs/"/>
    
    <category term="TypeScript" scheme="https://blog.mutoe.com/tags/TypeScript/"/>
    
    <category term="Postgres" scheme="https://blog.mutoe.com/tags/Postgres/"/>
    
    <category term="TypeORM" scheme="https://blog.mutoe.com/tags/TypeORM/"/>
    
  </entry>
  
  <entry>
    <title>手把手带你实践 TDD Nestjs Realworld 项目 - 3. 鉴权认证</title>
    <link href="https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-3/"/>
    <id>https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-3/</id>
    <published>2020-01-08T07:32:50.000Z</published>
    <updated>2020-01-08T07:32:50.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;上一章我们创建了一个用户表, 但是还没有实现真正的注册和登录. 要实现注册登录以及后续的权限校验, 我们还有一些工作要做.&lt;/p&gt;
&lt;p&gt;目前有比较多的思路来对用户进行鉴权, 我们选用 Conduit 示例中展示的也是现在比较广泛的做法 JWT 进行认证.&lt;/p&gt;
&lt;p&gt;要实现 JWT 鉴权, NestJS 为我们做好了大部分工作.&lt;/p&gt;
&lt;h1 id=&quot;1-安装依赖&quot;&gt;&lt;a href=&quot;#1-安装依赖&quot; class=&quot;headerlink&quot; title=&quot;1. 安装依赖&quot;&gt;&lt;/a&gt;1. 安装依赖&lt;/h1&gt;&lt;p&gt;但是在这之前, 我们要先安装下面的依赖&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yarn add @nestjs/passport passport passport-local&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yarn add -D @types/passport-local&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Passport 你可以把它看作是一个小型的框架, 因为你可以通过一些简单的回调函数来进行配置. Passport 会在适当的时候对其进行调用.&lt;/p&gt;
&lt;p&gt;而 &lt;code&gt;@nestjs/passport&lt;/code&gt; 则对 Passport 进行了很好的集成.&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Nestjs" scheme="https://blog.mutoe.com/tags/Nestjs/"/>
    
    <category term="TypeScript" scheme="https://blog.mutoe.com/tags/TypeScript/"/>
    
    <category term="Postgres" scheme="https://blog.mutoe.com/tags/Postgres/"/>
    
    <category term="TypeORM" scheme="https://blog.mutoe.com/tags/TypeORM/"/>
    
    <category term="JWT" scheme="https://blog.mutoe.com/tags/JWT/"/>
    
  </entry>
  
  <entry>
    <title>手把手带你实践 TDD Nestjs Realworld 项目 - 2. 数据库连接</title>
    <link href="https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-2/"/>
    <id>https://blog.mutoe.com/2020/TDD-nestjs-realworld-example-app-2/</id>
    <published>2020-01-03T13:37:17.000Z</published>
    <updated>2020-01-03T13:37:17.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;上一个文章我们介绍了如何搭建一个开发环境和 Pipeline, 这篇文章开始我们将正式的用 TDD 的模式实现一个后端项目.&lt;/p&gt;
&lt;h1 id=&quot;1-安装依赖&quot;&gt;&lt;a href=&quot;#1-安装依赖&quot; class=&quot;headerlink&quot; title=&quot;1. 安装依赖&quot;&gt;&lt;/a&gt;1. 安装依赖&lt;/h1&gt;&lt;p&gt;我们选用了 Postgres 作为我们的数据库, 操作数据库的 ORM 我们选用 TypeORM, 这是一个 TypeScript 友好的 ORM, 并且 nest 也提供了非常便利的集成方法.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yarn add @nestjs/typeorm typeorm pg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;2-接入-TypeORM&quot;&gt;&lt;a href=&quot;#2-接入-TypeORM&quot; class=&quot;headerlink&quot; title=&quot;2. 接入 TypeORM&quot;&gt;&lt;/a&gt;2. 接入 TypeORM&lt;/h1&gt;&lt;p&gt;编辑 &lt;code&gt;app.module.ts&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight ts&quot;&gt;&lt;figcaption&gt;&lt;span&gt;app.module.ts&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Module &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/common&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AppController &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;./app.controller&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; AppService &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;./app.service&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; TypeOrmModule &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;@nestjs/typeorm&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Module&lt;/span&gt;(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  imports: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TypeOrmModule.forRoot(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;#x27;postgres&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      host: &lt;span class=&quot;string&quot;&gt;&amp;#x27;localhost&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      port: &lt;span class=&quot;number&quot;&gt;5432&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      username: &lt;span class=&quot;string&quot;&gt;&amp;#x27;realworld&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      password: &lt;span class=&quot;string&quot;&gt;&amp;#x27;123456&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      database: &lt;span class=&quot;string&quot;&gt;&amp;#x27;nestjs&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      entities: [&lt;span class=&quot;string&quot;&gt;&amp;#x27;dist/**/*.entity&amp;#123;.ts,.js&amp;#125;&amp;#x27;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      synchronize: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  controllers: [AppController],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  providers: [AppService],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppModule&lt;/span&gt; &lt;/span&gt;&amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Jest" scheme="https://blog.mutoe.com/tags/Jest/"/>
    
    <category term="Nestjs" scheme="https://blog.mutoe.com/tags/Nestjs/"/>
    
    <category term="TypeScript" scheme="https://blog.mutoe.com/tags/TypeScript/"/>
    
    <category term="Postgres" scheme="https://blog.mutoe.com/tags/Postgres/"/>
    
    <category term="TypeORM" scheme="https://blog.mutoe.com/tags/TypeORM/"/>
    
    <category term="TDD" scheme="https://blog.mutoe.com/tags/TDD/"/>
    
    <category term="Docker" scheme="https://blog.mutoe.com/tags/Docker/"/>
    
    <category term="GitHub Actions" scheme="https://blog.mutoe.com/tags/GitHub-Actions/"/>
    
    <category term="ESLint" scheme="https://blog.mutoe.com/tags/ESLint/"/>
    
  </entry>
  
  <entry>
    <title>手把手带你实践 TDD Nestjs Realworld 项目 - 1. 环境搭建篇</title>
    <link href="https://blog.mutoe.com/2019/TDD-nestjs-realworld-example-app-1/"/>
    <id>https://blog.mutoe.com/2019/TDD-nestjs-realworld-example-app-1/</id>
    <published>2019-12-30T05:27:04.000Z</published>
    <updated>2019-12-30T05:27:04.000Z</updated>
    
    
    <summary type="html">&lt;p&gt;emmm, 最近计划着学习后端，本来想从 Java 开始，奈何新的知识点一股脑涌进来，只知道教程怎么做，而不说为什么，很是迷茫。&lt;/p&gt;
&lt;p&gt;于是想从熟悉的技术栈开始，结合最近学习的知识（TDD、Docker、GitHub Actions）和想学的知识（NestJS、Postgres、Swagger）一步一步巩固和学习。&lt;/p&gt;
&lt;p&gt;顺便记录下来沉淀和输出自己的知识，也希望能帮到大家少走一些弯路，告别 2019，迎接 2020！&lt;/p&gt;
&lt;h1 id=&quot;0-内容预告&quot;&gt;&lt;a href=&quot;#0-内容预告&quot; class=&quot;headerlink&quot; title=&quot;0. 内容预告&quot;&gt;&lt;/a&gt;0. 内容预告&lt;/h1&gt;&lt;p&gt;我们这次将要实现的系统是 &lt;a href=&quot;https://preact-realworld.mutoe.com/&quot;&gt;Conduit&lt;/a&gt; 的 API 部分，前些时间我已经 TDD 实践实现了 &lt;a href=&quot;https://github.com/mutoe/preact-realworld-example-app&quot;&gt;Conduit 的前端部分&lt;/a&gt;，技术栈选择了 Preact.&lt;/p&gt;
&lt;p&gt;Conduit 是什么，这是一个基于 &lt;a href=&quot;https://github.com/gothinkster/realworld&quot;&gt;Realworld&lt;/a&gt; 的示例项目。Realworld 集合了现今大部分的前后端框架，他们用不同的语言和技术展实现了同一个系统，也就是我们这次要做的 Conduit。&lt;/p&gt;
&lt;p&gt;当然，Realworld 现在也有 NestJS 的实现，不过既然是结合自己的知识点来学，当然不能照抄啦，假装网友们还没用 NestJS 实现它好啦，[偷笑][偷笑]&lt;/p&gt;
&lt;p&gt;这次用到的技术栈有：&lt;code&gt;Nestjs&lt;/code&gt; &lt;code&gt;TypeScript&lt;/code&gt; &lt;code&gt;Postgres&lt;/code&gt; &lt;code&gt;Jest&lt;/code&gt; &lt;code&gt;Docker&lt;/code&gt; &lt;code&gt;Github Actions&lt;/code&gt; &lt;code&gt;Swagger&lt;/code&gt; &lt;code&gt;ESLint&lt;/code&gt; , 然后我们会以 TDD 的方式进行开发，遵循“红-绿-重构”的方式一步一步的完成我们的项目。&lt;/p&gt;
&lt;p&gt;好，话不多说，赶紧进入实战演练吧！&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://blog.mutoe.com/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Jest" scheme="https://blog.mutoe.com/tags/Jest/"/>
    
    <category term="Nestjs" scheme="https://blog.mutoe.com/tags/Nestjs/"/>
    
    <category term="TypeScript" scheme="https://blog.mutoe.com/tags/TypeScript/"/>
    
    <category term="Postgres" scheme="https://blog.mutoe.com/tags/Postgres/"/>
    
    <category term="TypeORM" scheme="https://blog.mutoe.com/tags/TypeORM/"/>
    
    <category term="TDD" scheme="https://blog.mutoe.com/tags/TDD/"/>
    
    <category term="Docker" scheme="https://blog.mutoe.com/tags/Docker/"/>
    
    <category term="GitHub Actions" scheme="https://blog.mutoe.com/tags/GitHub-Actions/"/>
    
    <category term="Swagger" scheme="https://blog.mutoe.com/tags/Swagger/"/>
    
    <category term="ESLint" scheme="https://blog.mutoe.com/tags/ESLint/"/>
    
  </entry>
  
</feed>
